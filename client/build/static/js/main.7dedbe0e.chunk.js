(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{153:function(e,t,n){},155:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),s=n.n(r),c=n(10),i=n.n(c),o=(n(153),n(43)),u=n(12),d=n(11),l=n.n(d),j=n(20),b=n(17),x=(n(155),n(252)),p=n(255),O=n(257),h=n(60),f=n(258),v=n(271),w=n(262),q=n(44),m=n(122),g=new(n.n(m).a)({en:{login:"Login",register:"Register",email:"Email",password:"Password",reglink:"Register here",firstname:"First name",surname:"Surname",adminuser:"Admin user",teachermode:"Teacher mode",showcorrect:"Show correct answers",hidecorrect:"Hide correct answers",question:"Question",answer:"Answer",addnewquestion:"Add new question",addnewanswer:"Add new answer",addnewquiz:"Add new quiz",delete:"Delete",regerror:"Registration failed",files:"Files"},fi:{login:"Kirjaudu",register:"Rekister\xf6idy",email:"S\xe4hk\xf6posti",password:"Salasana",reglink:"Rekister\xf6idy t\xe4st\xe4",firstname:"Etunimi",surname:"Sukunimi",adminuser:"Admin-k\xe4ytt\xe4j\xe4",teachermode:"Opettaja",showcorrect:"N\xe4yt\xe4 oikeat vastaukset",hidecorrect:"Piilota oikeat vastaukset",question:"Kysymys",answer:"Vastaus",addnewquestion:"Lis\xe4\xe4 uusi kysymys",addnewanswer:"Lis\xe4\xe4 uusi vastaus",addnewquiz:"Lis\xe4\xe4 uusi tentti",delete:"Poista",regerror:"Rekister\xf6ityminen ep\xe4onnistui",files:"Tiedostot"}}),z=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},lanselect:{margin:e.spacing(1),width:"70px",paddingInlineStart:"15px"}}}));var k=function(e){g.setLanguage(e.language);var t=z();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(p.a,{position:"fixed",children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(h.a,{variant:"h6",className:t.title,children:Object(a.jsx)(q.b,{to:"/",style:{textDecoration:"none",color:"white"},children:"Quiz App"})}),Object(a.jsx)(q.b,{to:"/login",style:{textDecoration:"none"},children:Object(a.jsx)(f.a,{variant:"contained",color:"primary",disableElevation:!0,children:g.login})}),Object(a.jsxs)(v.a,{className:t.lanselect,defaultValue:"en",style:{color:"white"},onChange:function(t){return e.switchLanguage(t.target.value)},children:[Object(a.jsx)(w.a,{value:"en",selected:!0,children:" EN "}),Object(a.jsx)(w.a,{value:"fi",children:" FI "})]})]})})})},I=n(261),C=n(78),E=n.n(C),y=n(130),Q=n.n(y),N=n(268),T=n(269),S=n(270),D=n(218),A=n(19),_=n.n(A),L=n(219),R=n(273),G=n(274),U=function(){var e=Object(r.useState)({firstname:"",surname:"",email:"",password:"",role_id:2}),t=Object(b.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!0),i=Object(b.a)(c,2),d=i[0],x=i[1],p=Object(r.useState)(""),O=Object(b.a)(p,2),h=O[0],v=O[1],w=function(e,t){s(Object(u.a)(Object(u.a)({},n),{},Object(o.a)({},t,e.target.value)))};Object(r.useEffect)((function(){s(d?Object(u.a)(Object(u.a)({},n),{},{role_id:2}):Object(u.a)(Object(u.a)({},n),{},{role_id:3}))}),[d]);var q=function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),a={email:n.email,password:n.password,firstname:n.firstname,surname:n.surname,role_id:n.role_id},console.log(a),t.preventDefault(),e.prev=4,e.next=7,_.a.post("http://localhost:5000/register/",a).then((function(e){v("")}));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),v(g.regerror),console.log("registration error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(I.a,{children:[Object(a.jsx)(L.a,{children:Object(a.jsx)("h2",{children:g.register})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{onChange:function(e){return w(e,"firstname")},size:"small",label:g.firstname,variant:"outlined"})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{onChange:function(e){return w(e,"surname")},size:"small",label:g.surname,variant:"outlined"})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{onChange:function(e){return w(e,"email")},size:"small",label:g.email,variant:"outlined"})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{onChange:function(e){return w(e,"password")},size:"small",label:g.password,type:"password",variant:"outlined"})}),Object(a.jsxs)(L.a,{children:[Object(a.jsx)(G.a,{checked:d,onChange:function(e){return x(!d)}})," ",g.adminuser,"?"]}),Object(a.jsx)(L.a,{children:Object(a.jsx)(f.a,{variant:"outlined",onClick:function(e){return q(e)},children:g.register})}),Object(a.jsx)(L.a,{className:"errorMessage",children:h})]})})},B=n(56),H=n.n(B),M=n(128),P=n.n(M),W=n(131),F=n(127),X=n.n(F);var Z=function(e){var t={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},n={borderColor:"#2196f3"},s={borderColor:"#00e676"},c={borderColor:"#ff1744"},i=Object(r.useCallback)(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n=X.a.post("http://localhost:5000/upload"),t.forEach((function(e){n.attach("file",e),console.log(e)})),n.end((function(e,t){console.log("THIS IS THE RES",t)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),o=Object(W.a)({onDrop:i}),d=o.acceptedFiles,b=o.getRootProps,x=o.getInputProps,p=o.isDragActive,O=o.isDragAccept,h=o.isDragReject,f=Object(r.useMemo)((function(){return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},t),p?n:{}),O?s:{}),h?c:{})})),v=d.map((function(e){return Object(a.jsxs)("li",{children:[e.path," - ",e.size," bytes"]},e.path)}));return Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",Object(u.a)(Object(u.a)({},b({style:f})),{},{children:[Object(a.jsx)("input",Object(u.a)({},x())),p?Object(a.jsx)("p",{children:"Drop the files here ..."}):Object(a.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]})),Object(a.jsxs)("aside",{children:[Object(a.jsx)("ul",{children:g.files}),Object(a.jsx)("ul",{children:v})]})]})};var J=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),s=n[0],c=n[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)(L.a,{role:void 0,dense:!0,children:[Object(a.jsx)(R.a,{fullWidth:!0,onChange:function(t){return e.updateQuestion(t,e.quiz,e.parentIndex)},size:"small",label:g.question+" "+(e.parentIndex+1),variant:"outlined",value:e.value.question}),Object(a.jsx)(f.a,{className:"deleteButton",onClick:function(t){return e.deleteQuestion(t,e.quiz,e.parentIndex)},children:Object(a.jsx)(H.a,{})}),Object(a.jsx)(f.a,{className:"deleteButton",onClick:function(e){c(!s)},children:Object(a.jsx)(P.a,{})})]},e.value.id),Object(a.jsx)(L.a,{children:s?Object(a.jsx)(Z,{}):""})]})},K=n(263),V=n(6),$=n(80);var Y=function(e){var t=Object(V.a)({root:{color:$.a[400],"&$checked":{color:$.a[600]}},checked:{}})((function(e){return Object(a.jsx)(G.a,Object(u.a)({color:"default"},e))}));return Object(a.jsxs)(L.a,{role:void 0,dense:!0,children:[Object(a.jsx)(K.a,{children:Object(a.jsx)(t,{onChange:function(t){return e.updateAnsweroption(t,e.quiz,e.parentIndex,e.index,"CHECKBOX")},checked:e.value.correct,edge:"start",tabIndex:-1})}),Object(a.jsx)(K.a,{children:Object(a.jsx)(G.a,{onChange:function(t){return e.dispatch({type:"SELECT_TOGGLE",data:{newText:t.target.value,quizIndex:e.quiz,questionIndex:e.parentIndex,answerIndex:e.index}})},checked:e.value.selected,edge:"start",tabIndex:-1})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(R.a,{onChange:function(t){return e.updateAnsweroption(t,e.quiz,e.parentIndex,e.index,"TEXT")},size:"small",label:g.answer+" "+(e.index+1),variant:"outlined",value:e.value.answer}),Object(a.jsx)(f.a,{className:"deleteButton",onClick:function(t){return e.deleteAnsweroption(t,e.quiz,e.parentIndex,e.index)},children:Object(a.jsx)(H.a,{})})]})]},"editansweropt"+e.value.id)},ee=n(264);var te=function(e){var t=Object(V.a)({root:{color:$.a[400],"&$checked":{color:$.a[600]}},checked:{}})((function(e){return Object(a.jsx)(G.a,Object(u.a)({color:"default"},e))}));return Object(a.jsxs)(L.a,{role:void 0,dense:!0,children:[Object(a.jsx)(K.a,{children:e.answersVisible?Object(a.jsx)(t,{checked:e.value.correct,edge:"start",tabIndex:-1,disabled:!0}):null}),Object(a.jsx)(K.a,{children:Object(a.jsx)(G.a,{checked:e.value.selected,edge:"start",tabIndex:-1})}),Object(a.jsx)("div",{children:Object(a.jsx)(ee.a,{id:e.index,primary:e.value.answer})})]},e.value.id)},ne=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(b.a)(e,2),n=t[0],s=t[1],c=function(e,t){s(Object(u.a)(Object(u.a)({},n),{},Object(o.a)({},t,e.target.value)))},i=function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),a={email:n.email,password:n.password},console.log(a),t.preventDefault(),e.prev=4,e.next=7,_.a.post("http://localhost:5000/login/",a).then((function(e){console.log(e,"LOGIN RESPONSE"),localStorage.setItem("jwtToken",e.data.token)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log("registration error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(I.a,{children:[Object(a.jsx)(L.a,{children:Object(a.jsx)("h2",{children:g.login})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{onChange:function(e){return c(e,"email")},size:"small",label:g.email,variant:"outlined"})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{onChange:function(e){return c(e,"password")},size:"small",label:g.password,type:"password",variant:"outlined"})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(f.a,{variant:"outlined",onClick:i,children:g.login})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(q.b,{to:"/register",children:Object(a.jsx)("i",{children:g.reglink})})})]})})},ae=n(16),re=n(66),se=n(129),ce=n.n(se),ie=n(275),oe=n(267),ue=n(266),de=n(265);var le=function(e){var t=s.a.useState(!1),n=Object(b.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(""),u=Object(b.a)(o,2),d=u[0],l=u[1],j=function(){i(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsxs)(f.a,{onClick:function(){i(!0)},children:[Object(a.jsx)(E.a,{})," Add new quiz "]}),Object(a.jsxs)(ie.a,{open:c,onClose:j,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(de.a,{id:"form-dialog-title",children:"Create New Quiz"}),Object(a.jsx)(ue.a,{children:Object(a.jsx)(R.a,{autoFocus:!0,margin:"dense",id:"name",label:"Quiz name",fullWidth:!0,onChange:function(e){return l(e.target.value)}})}),Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(f.a,{onClick:j,color:"primary",children:"Cancel"}),Object(a.jsx)(f.a,{onClick:function(t){j(),e.addNewQuiz(d)},color:"primary",children:"Create new quiz"})]})]})]})};var je=function(e){var t=s.a.useState(!1),n=Object(b.a)(t,2),r=n[0],c=n[1],i=function(){c(!1)};return Object(a.jsx)(L.a,{role:void 0,dense:!0,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(R.a,{onChange:function(t){return e.updateQuiz(t,e.quizindex)},size:"small",variant:"outlined",value:e.quizname}),Object(a.jsx)(f.a,{className:"deleteButton",onClick:function(){c(!0)},children:Object(a.jsx)(H.a,{})}),Object(a.jsxs)(ie.a,{open:r,onClose:i,"aria-labelledby":"form-dialog-title",children:[Object(a.jsxs)(de.a,{id:"form-dialog-title",children:["Deleting ",e.quizname]}),Object(a.jsxs)(ue.a,{children:[Object(a.jsx)("p",{children:"Are you sure you want to delete this quiz?"}),Object(a.jsx)("p",{children:Object(a.jsx)("u",{children:"This action cannot be undone!"})})]}),Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(f.a,{onClick:i,color:"primary",children:"Cancel"}),Object(a.jsx)(f.a,{onClick:function(t){i(),e.deleteQuiz(t,e.quizindex)},color:"secondary",children:"Delete"})]})]})]})},"editquiztitlecomp"+e.quizid)};var be=function(e){return Object(a.jsx)(L.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:e.quizname})})},"editquiztitlecomp")},xe=Object(x.a)((function(e){return{root:{width:"100%",maxWidth:"100%",backgroundColor:e.palette.background.paper,"& > *":{margin:e.spacing(1)}}}})),pe=null;function Oe(e,t){var n=JSON.parse(JSON.stringify(e));switch(t.type){case"increment":return{count:e.count+1};case"INIT_DATA":return console.log(t),t.data;case"ANSWER_CHANGED":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].answer=t.data.newText,n;case"QUESTION_CHANGED":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].question=t.data.newText,n;case"QUIZ_CHANGED":return n[t.data.quizIndex].quizName=t.data.newText,n;case"ADD_ANSWER":var a={answer:"",correct:!1,selected:!1,id:t.data.id};return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions.push(a),n;case"ADD_QUESTION":var r={question:"",answerOptions:[],id:t.data.id};return n[t.data.quizIndex].quizQuestions.push(r),n;case"ADD_QUIZ":var s={id:t.data.quizId,quizname:t.data.quizname,quizQuestions:[]};return n.push(s),n;case"DELETE_ANSWER":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions.splice(t.data.answerIndex,1),n;case"DELETE_QUESTION":return n[t.data.quizIndex].quizQuestions.splice(t.data.questionIndex,1),n;case"DELETE_QUIZ":return n.splice(t.data.quizIndex,1),n;case"SELECT_TOGGLE":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].selected=!n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].selected,n;case"CORRECT_TOGGLE":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].correct=!n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].correct,n;default:throw new Error}}pe="https://vappus-quiz-app.herokuapp.com/";var he=Object(re.c)((function(){var e=xe(),t=Object(r.useState)(!1),n=Object(b.a)(t,2),c=n[0],i=n[1],d=Object(r.useState)(0),x=Object(b.a)(d,2),p=x[0],O=x[1],h=Object(r.useState)(!1),v=Object(b.a)(h,2),w=v[0],q=v[1],m=Object(r.useReducer)(Oe,[]),z=Object(b.a)(m,2),C=z[0],y=z[1],A=Object(r.useState)(!1),L=Object(b.a)(A,2),R=(L[0],L[1],Object(r.useState)("en")),G=Object(b.a)(R,2),B=G[0],H=G[1],M=Object(re.b)(),P=M.enqueueSnackbar;M.closeSnackbar,Object(r.useEffect)((function(){var e=ce()("wss://vappus-quiz-app.herokuapp.com:9000");e.on("connected",(function(t){console.log("CONNECTED"),e.emit("ready for data",{}),P("Socket connected!")})),e.on("update",(function(e){var t="";switch(console.log("UPDATED",e.message.payload),e.message.channel){case"addquiz":t="New Quiz: "+e.message.payload;break;case"adduser":t=e.message.payload+" just registered for the first time!";break;case"alterquiz":var n=JSON.parse(e.message.payload);console.log("hi from here"),console.log(n),t="Quiz: "+n.old+" was renamed to "+n.new;break;case"addedrecord":t="this is a test!"}P(t)}))}),[]),Object(r.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get(pe+"quiz");case 3:if(!((t=e.sent).data.length>0)){e.next=31;break}n=0;case 6:if(!(n<t.data.length)){e.next=26;break}return t.data[n].quizQuestions=[],e.next=10,_.a.get(pe+"quiz/"+t.data[n].id+"/question/");case 10:if(a=e.sent,t.data[n].quizQuestions=a.data,!(t.data[n].quizQuestions.length>0)){e.next=23;break}r=0;case 14:if(!(r<t.data[n].quizQuestions.length)){e.next=23;break}return t.data[n].quizQuestions[r].answerOptions=[],e.next=18,_.a.get(pe+"quiz/"+t.data[n].id+"/question/"+t.data[n].quizQuestions[r].id+"/answer");case 18:s=e.sent,t.data[n].quizQuestions[r].answerOptions=s.data;case 20:r++,e.next=14;break;case 23:n++,e.next=6;break;case 26:console.log(t.data),y({type:"INIT_DATA",data:t.data}),i(!0),e.next=32;break;case 31:throw"No data :(";case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var W=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C[n].id,r={},e.prev=2,e.next=5,_.a.post(pe+"quiz/"+a,r).then((function(e){console.log("new id"+e.data.id),y({type:"ADD_QUESTION",data:{quizIndex:p,id:e.data.id}})}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){var r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C[n].id,s=C[n].quizQuestions[a].id,c={correct:!1},e.prev=3,e.next=6,_.a.post(pe+"quiz/"+r+"/question/"+s,c).then((function(e){console.log("new id"+e.data.id),y({type:"ADD_ANSWER",data:{quizIndex:p,questionIndex:a,id:e.data.id}})}));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),X=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={quizname:t},e.prev=1,e.next=4,_.a.post(pe+"quiz/",n).then((function(e){console.log("new id"+e.data.id),y({type:"ADD_QUIZ",data:{quizId:e.data.id,quizname:t}})}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C[n].id,r={quizname:t.target.value},e.prev=2,e.next=5,_.a.put(pe+"quiz/"+a,r);case 5:e.sent,y({type:"QUIZ_CHANGED",data:{newText:r.question,quizIndex:n}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){var r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C[n].id,s=C[n].quizQuestions[a].id,c={question:t.target.value},e.prev=3,e.next=6,_.a.put(pe+"quiz/"+r+"/question/"+s,c);case 6:e.sent,y({type:"QUESTION_CHANGED",data:{newText:c.question,quizIndex:n,questionIndex:a}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a,r,s){var c,i,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=C[n].id,i=C[n].quizQuestions[a].id,o=C[n].quizQuestions[a].answerOptions[r].id,u={},e.t0=s,e.next="TEXT"===e.t0?7:"CHECKBOX"===e.t0?10:13;break;case 7:return u.answer=t.target.value,u.correct=C[n].quizQuestions[a].answerOptions[r].correct,e.abrupt("break",16);case 10:return u.answer=C[n].quizQuestions[a].answerOptions[r].answer,u.correct=!C[n].quizQuestions[a].answerOptions[r].correct,e.abrupt("break",16);case 13:return u.answer=C[n].quizQuestions[a].answerOptions[r].answer,u.correct=C[n].quizQuestions[a].answerOptions[r].correct,e.abrupt("break",16);case 16:return e.prev=16,e.next=19,_.a.put(pe+"quiz/"+c+"/question/"+i+"/answer/"+o,u);case 19:e.sent,e.t1=s,e.next="TEXT"===e.t1?23:"CHECKBOX"===e.t1?25:27;break;case 23:return y({type:"ANSWER_CHANGED",data:{newText:u.answer,quizIndex:n,questionIndex:a,answerIndex:r}}),e.abrupt("break",28);case 25:return y({type:"CORRECT_TOGGLE",data:{newText:u.answer,quizIndex:n,questionIndex:a,answerIndex:r}}),e.abrupt("break",28);case 27:return e.abrupt("break",28);case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(16),console.log(e.t2);case 33:case"end":return e.stop()}}),e,null,[[16,30]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),$=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C[n].id,s=C[n].quizQuestions[a].id,e.prev=2,e.next=5,_.a.delete(pe+"quiz/"+r+"/question/"+s);case 5:e.sent,y({type:"DELETE_QUESTION",data:{newText:"",quizIndex:p,questionIndex:a}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C[n].id,e.prev=1,O(0),e.next=5,_.a.delete(pe+"quiz/"+a);case 5:e.sent,y({type:"DELETE_QUIZ",data:{newText:"",quizIndex:n}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a,r){var s,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=C[n].id,c=C[n].quizQuestions[a].id,i=C[n].quizQuestions[a].answerOptions[r].id,e.prev=3,e.next=6,_.a.delete(pe+"quiz/"+s+"/question/"+c+"/answer/"+i);case 6:e.sent,y({type:"DELETE_ANSWER",data:{newText:"",quizIndex:p,questionIndex:a,answerIndex:r}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ie=s.a.useState({teacherMode:!1}),oe=Object(b.a)(ie,2),ue=oe[0],de=oe[1];return Object(a.jsx)("div",{children:Object(a.jsxs)(N.a,{className:"quizContainer",children:[Object(a.jsx)(k,{switchLanguage:function(e){H(e),g.setLanguage(e)},language:B}),Object(a.jsxs)(ae.c,{children:[Object(a.jsx)(ae.a,{exact:!0,path:"/register",component:Object(ae.f)(U)}),Object(a.jsx)(ae.a,{exact:!0,path:"/login",component:Object(ae.f)(ne)}),Object(a.jsxs)(ae.a,{exact:!0,path:"/",children:[Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(T.a,{control:Object(a.jsx)(S.a,{checked:ue.teacherMode,onChange:function(e){de(Object(u.a)(Object(u.a)({},ue),{},Object(o.a)({},e.target.name,e.target.checked)))},name:"teacherMode",inputProps:{"aria-label":"secondary checkbox"}}),label:g.teachermode}),Object(a.jsx)("br",{}),c?C.map((function(e,t){return Object(a.jsx)(f.a,{variant:"outlined",onClick:function(){O(t)},children:e.quizname})})):null,ue.teacherMode&&c?Object(a.jsx)("div",{children:Object(a.jsx)(le,{addNewQuiz:X})}):""]}),c?Object(a.jsx)("div",{className:"questionCard",children:Object(a.jsx)(D.a,{elevation:1,margin:"10%",children:ue.teacherMode?Object(a.jsx)(je,{quizname:C[p].quizname,quizid:C[p].id,quizindex:p,updateQuiz:Z,deleteQuiz:ee}):Object(a.jsx)(be,{quizname:C[p].quizname})})}):"",c?C[p].quizQuestions.map((function(t,n){return Object(a.jsx)("div",{className:"questionCard",children:Object(a.jsx)(D.a,{elevation:1,children:Object(a.jsxs)(I.a,{className:e.root,children:[Object(a.jsx)("h3",{children:t.topicArea}),ue.teacherMode?Object(a.jsx)(J,{value:t,quiz:p,parentIndex:n,updateQuestion:K,deleteQuestion:$}):Object(a.jsx)("div",{className:"question",children:t.question}),t.answerOptions.map((function(e,t){return Object(a.jsx)("div",{children:ue.teacherMode?Object(a.jsx)(Y,{value:e,quiz:p,parentIndex:n,index:t,status:ue,updateAnsweroption:V,deleteAnsweroption:se,dispatch:y}):Object(a.jsx)(te,{value:e,quiz:p,parentIndex:n,index:t,answersVisible:w})})})),ue.teacherMode?Object(a.jsx)("div",{className:"addButton",children:Object(a.jsx)(f.a,{onClick:function(e){return F(e,p,n)},children:Object(a.jsx)(E.a,{})})}):""]})})})})):null,Object(a.jsx)("div",{className:"bottomButtons",children:ue.teacherMode?Object(a.jsxs)(f.a,{variant:"contained",onClick:function(e){return W(e,p)},children:[Object(a.jsx)(Q.a,{}),"   ",g.addnewanswer]}):Object(a.jsx)(f.a,{variant:"contained",onClick:function(){q(!w)},children:w?g.hidecorrect:g.showcorrect})})]})]})]})})})),fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,278)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};i.a.render(Object(a.jsx)(q.a,{children:Object(a.jsx)(re.a,{maxSnack:3,variant:"info",children:Object(a.jsx)(he,{})})}),document.getElementById("root")),fe()}},[[217,1,2]]]);
//# sourceMappingURL=main.7dedbe0e.chunk.js.map