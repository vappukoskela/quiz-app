(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{152:function(e,t,n){},154:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),s=n(10),c=n.n(s),o=(n(152),n(44)),u=n(12),d=n(11),l=n.n(d),j=n(22),b=n(13),x=(n(154),n(252)),p=n(255),O=n(257),h=n(69),f=n(258),g=n(270),v=n(262),m=n(263),w=n(126),q=n.n(w),z=n(41),k=n(122),I=new(n.n(k).a)({en:{login:"Login",register:"Register",email:"Email",password:"Password",reglink:"Register here",firstname:"First name",surname:"Surname",adminuser:"Admin user",teachermode:"Teacher mode",showcorrect:"Show correct answers",hidecorrect:"Hide correct answers",question:"Question",answer:"Answer",addnewquestion:"Add new question",addnewanswer:"Add new answer",addnewquiz:"Add new quiz",delete:"Delete",regerror:"Registration failed",files:"Files",deleting:"Deleting",areyousuredelete:"Are you sure you want to delete this quiz?",actioncannotbeundone:"This action cannot be undone!",cancel:"Cancel",logout:"Logout",landingtext:"Please log in or register to continue",loginfail:"Login failed",loginsuccess:"Login successful! Welcome",registersuccess:"Registration successful! Welcome",registerfail:"Registration failed",greet:"Hello",userinrole:"User in role"},fi:{login:"Kirjaudu",register:"Rekister\xf6idy",email:"S\xe4hk\xf6posti",password:"Salasana",reglink:"Rekister\xf6idy t\xe4st\xe4",firstname:"Etunimi",surname:"Sukunimi",adminuser:"Admin-k\xe4ytt\xe4j\xe4",teachermode:"Opettaja",showcorrect:"N\xe4yt\xe4 oikeat vastaukset",hidecorrect:"Piilota oikeat vastaukset",question:"Kysymys",answer:"Vastaus",addnewquestion:"Lis\xe4\xe4 uusi kysymys",addnewanswer:"Lis\xe4\xe4 uusi vastaus",addnewquiz:"Lis\xe4\xe4 uusi tentti",delete:"Poista",regerror:"Rekister\xf6ityminen ep\xe4onnistui",files:"Tiedostot",deleting:"Poistetaan",areyousuredelete:"Oletko varma, ett\xe4 haluat poistaa t\xe4m\xe4n tentin?",actioncannotbeundone:"T\xe4t\xe4 toimintoa ei voi peruuttaa!",cancel:"Peruuta",logout:"Kirjaudu ulos",landingtext:"Kirjauduthan sis\xe4\xe4n jatkaaksesi",loginfail:"Kirjautuminen ep\xe4onnistui",loginsuccess:"Kirjautuminen onnistui! Tervetuloa",registersuccess:"Rekister\xf6ityminen onnistui! Tervetuloa",registerfail:"Rekister\xf6ityminen ep\xe4onnistui",greet:"Hei",userinrole:"K\xe4ytt\xe4j\xe4 roolissa"}}),y=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},lanselect:{margin:e.spacing(1),width:"70px",paddingInlineStart:"15px"}}}));var C=function(e){I.setLanguage(e.language);var t=y();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(p.a,{position:"fixed",children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(f.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(q.a,{})}),Object(a.jsx)(h.a,{variant:"h6",className:t.title,children:Object(a.jsx)(z.b,{to:"/",style:{textDecoration:"none",color:"white"},children:"Quiz App"})}),Object(a.jsxs)(g.a,{className:t.lanselect,defaultValue:"en",style:{color:"white"},onChange:function(t){return e.switchLanguage(t.target.value)},children:[Object(a.jsx)(v.a,{value:"en",selected:!0,children:" EN "}),Object(a.jsx)(v.a,{value:"fi",children:" FI "})]}),e.isLoggedIn?Object(a.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return e.logOut()},children:I.logout}):Object(a.jsx)(z.b,{to:"/",style:{textDecoration:"none"},children:Object(a.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,children:I.login})})]})})})},E=n(261),Q=n(78),N=n.n(Q),T=n(131),S=n.n(T),D=n(269),A=n(217),_=n(19),L=n.n(_),R=n(218),G=n(272),H=n(273),U=n(16),B=function(e){var t=Object(r.useState)({firstname:"",surname:"",email:"",password:"",role_id:2}),n=Object(b.a)(t,2),i=n[0],s=n[1],c=Object(r.useState)(!0),d=Object(b.a)(c,2),l=d[0],j=d[1],x=Object(r.useState)(!1),p=Object(b.a)(x,2),O=(p[0],p[1],Object(r.useState)("")),h=Object(b.a)(O,2),f=h[0],g=(h[1],function(e,t){s(Object(u.a)(Object(u.a)({},i),{},Object(o.a)({},t,e.target.value)))});Object(r.useEffect)((function(){s(l?Object(u.a)(Object(u.a)({},i),{},{role_id:2}):Object(u.a)(Object(u.a)({},i),{},{role_id:3}))}),[l]);return Object(a.jsx)("div",{className:"container",children:e.isRegistered?Object(a.jsx)(U.a,{to:"/"}):Object(a.jsxs)(E.a,{children:[Object(a.jsx)(R.a,{children:Object(a.jsx)("h2",{children:I.register})}),Object(a.jsx)(R.a,{children:Object(a.jsx)(G.a,{onChange:function(e){return g(e,"firstname")},size:"small",label:I.firstname,variant:"outlined"})}),Object(a.jsx)(R.a,{children:Object(a.jsx)(G.a,{onChange:function(e){return g(e,"surname")},size:"small",label:I.surname,variant:"outlined"})}),Object(a.jsx)(R.a,{children:Object(a.jsx)(G.a,{onChange:function(e){return g(e,"email")},size:"small",label:I.email,variant:"outlined"})}),Object(a.jsx)(R.a,{children:Object(a.jsx)(G.a,{onChange:function(e){return g(e,"password")},size:"small",label:I.password,type:"password",variant:"outlined"})}),Object(a.jsxs)(R.a,{children:[Object(a.jsx)(H.a,{checked:l,onChange:function(e){return j(!l)}})," ",I.adminuser,"?"]}),Object(a.jsx)(R.a,{children:Object(a.jsx)(m.a,{variant:"outlined",onClick:function(){console.log(i),e.submitRegistration(i)},children:I.register})}),Object(a.jsx)(R.a,{className:"errorMessage",children:f})]})})},P=n(56),W=n.n(P),K=n(129),F=n.n(K),X=n(132),Z=n(128),J=n.n(Z);var V=function(e){var t={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},n={borderColor:"#2196f3"},i={borderColor:"#00e676"},s={borderColor:"#ff1744"},c=Object(r.useCallback)(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n=J.a.post("http://localhost:5000/upload"),t.forEach((function(e){n.attach("file",e),console.log(e)})),n.end((function(e,t){console.log("THIS IS THE RES",t)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),o=Object(X.a)({onDrop:c}),d=o.acceptedFiles,b=o.getRootProps,x=o.getInputProps,p=o.isDragActive,O=o.isDragAccept,h=o.isDragReject,f=Object(r.useMemo)((function(){return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},t),p?n:{}),O?i:{}),h?s:{})})),g=d.map((function(e){return Object(a.jsxs)("li",{children:[e.path," - ",e.size," bytes"]},e.path)}));return Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",Object(u.a)(Object(u.a)({},b({style:f})),{},{children:[Object(a.jsx)("input",Object(u.a)({},x())),p?Object(a.jsx)("p",{children:"Drop the files here ..."}):Object(a.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]})),Object(a.jsxs)("aside",{children:[Object(a.jsx)("ul",{children:I.files}),Object(a.jsx)("ul",{children:g})]})]})};var M=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),i=n[0],s=n[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)(R.a,{role:void 0,dense:!0,children:[Object(a.jsx)(G.a,{fullWidth:!0,onChange:function(t){return e.updateQuestion(t,e.quiz,e.parentIndex)},size:"small",label:I.question+" "+(e.parentIndex+1),variant:"outlined",value:e.value.question}),Object(a.jsx)(m.a,{className:"deleteButton",onClick:function(t){return e.deleteQuestion(t,e.quiz,e.parentIndex)},children:Object(a.jsx)(W.a,{})}),Object(a.jsx)(m.a,{className:"deleteButton",onClick:function(e){s(!i)},children:Object(a.jsx)(F.a,{})})]},e.value.id),Object(a.jsx)(R.a,{children:i?Object(a.jsx)(V,{}):""})]})},$=n(264),Y=n(6),ee=n(79);var te=function(e){var t=Object(Y.a)({root:{color:ee.a[400],"&$checked":{color:ee.a[600]}},checked:{}})((function(e){return Object(a.jsx)(H.a,Object(u.a)({color:"default"},e))}));return Object(a.jsxs)(R.a,{role:void 0,dense:!0,children:[Object(a.jsx)($.a,{children:Object(a.jsx)(t,{onChange:function(t){return e.updateAnsweroption(t,e.quiz,e.parentIndex,e.index,"CHECKBOX")},checked:e.value.correct,edge:"start",tabIndex:-1})}),Object(a.jsx)($.a,{children:Object(a.jsx)(H.a,{onChange:function(t){return e.dispatch({type:"SELECT_TOGGLE",data:{newText:t.target.value,quizIndex:e.quiz,questionIndex:e.parentIndex,answerIndex:e.index}})},checked:e.value.selected,edge:"start",tabIndex:-1})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(G.a,{onChange:function(t){return e.updateAnsweroption(t,e.quiz,e.parentIndex,e.index,"TEXT")},size:"small",label:I.answer+" "+(e.index+1),variant:"outlined",value:e.value.answer}),Object(a.jsx)(m.a,{className:"deleteButton",onClick:function(t){return e.deleteAnsweroption(t,e.quiz,e.parentIndex,e.index)},children:Object(a.jsx)(W.a,{})})]})]},"editansweropt"+e.value.id)},ne=n(265);var ae=function(e){var t=Object(Y.a)({root:{color:ee.a[400],"&$checked":{color:ee.a[600]}},checked:{}})((function(e){return Object(a.jsx)(H.a,Object(u.a)({color:"default"},e))}));return Object(a.jsxs)(R.a,{role:void 0,dense:!0,children:[Object(a.jsx)($.a,{children:e.answersVisible?Object(a.jsx)(t,{checked:e.value.correct,edge:"start",tabIndex:-1,disabled:!0}):null}),Object(a.jsx)($.a,{children:Object(a.jsx)(H.a,{checked:e.value.selected,edge:"start",tabIndex:-1})}),Object(a.jsx)("div",{children:Object(a.jsx)(ne.a,{id:e.index,primary:e.value.answer})})]},e.value.id)},re=function(e){var t=Object(r.useState)({email:"",password:""}),n=Object(b.a)(t,2),i=n[0],s=n[1],c=Object(r.useState)(!1),d=Object(b.a)(c,2),l=(d[0],d[1],function(e,t){s(Object(u.a)(Object(u.a)({},i),{},Object(o.a)({},t,e.target.value)))});return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(E.a,{children:[Object(a.jsx)(R.a,{children:Object(a.jsx)("h2",{children:I.login})}),Object(a.jsx)(R.a,{children:Object(a.jsx)(G.a,{onChange:function(e){return l(e,"email")},size:"small",label:I.email,variant:"outlined"})}),Object(a.jsx)(R.a,{children:Object(a.jsx)(G.a,{onChange:function(e){return l(e,"password")},size:"small",label:I.password,type:"password",variant:"outlined"})}),Object(a.jsx)(R.a,{children:Object(a.jsx)(m.a,{variant:"outlined",onClick:function(){console.log(i),e.submitLogin(i)},children:I.login})}),Object(a.jsx)(R.a,{children:Object(a.jsx)(z.b,{to:"/register",children:Object(a.jsx)("i",{children:I.reglink})})})]})})},ie=n(68),se=n(130),ce=n.n(se),oe=n(274),ue=n(268),de=n(267),le=n(266);var je=function(e){var t=i.a.useState(!1),n=Object(b.a)(t,2),s=n[0],c=n[1],o=Object(r.useState)(""),u=Object(b.a)(o,2),d=u[0],l=u[1],j=function(){c(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsxs)(m.a,{onClick:function(){c(!0)},children:[Object(a.jsx)(N.a,{})," Add new quiz "]}),Object(a.jsxs)(oe.a,{open:s,onClose:j,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(le.a,{id:"form-dialog-title",children:"Create New Quiz"}),Object(a.jsx)(de.a,{children:Object(a.jsx)(G.a,{autoFocus:!0,margin:"dense",id:"name",label:"Quiz name",fullWidth:!0,onChange:function(e){return l(e.target.value)}})}),Object(a.jsxs)(ue.a,{children:[Object(a.jsx)(m.a,{onClick:j,color:"primary",children:"Cancel"}),Object(a.jsx)(m.a,{onClick:function(t){j(),e.addNewQuiz(d)},color:"primary",children:"Create new quiz"})]})]})]})};var be=function(e){var t=i.a.useState(!1),n=Object(b.a)(t,2),r=n[0],s=n[1],c=function(){s(!1)};return Object(a.jsx)(R.a,{role:void 0,dense:!0,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(G.a,{onChange:function(t){return e.updateQuiz(t,e.quizindex)},size:"small",variant:"outlined",value:e.quizname}),Object(a.jsx)(m.a,{className:"deleteButton",onClick:function(){s(!0)},children:Object(a.jsx)(W.a,{})}),Object(a.jsxs)(oe.a,{open:r,onClose:c,"aria-labelledby":"form-dialog-title",children:[Object(a.jsxs)(le.a,{id:"form-dialog-title",children:[I.deleting," ",e.quizname]}),Object(a.jsxs)(de.a,{children:[Object(a.jsx)("p",{children:I.areyousuredelete}),Object(a.jsx)("p",{children:Object(a.jsx)("u",{children:I.actioncannotbeundone})})]}),Object(a.jsxs)(ue.a,{children:[Object(a.jsx)(m.a,{onClick:c,color:"primary",children:I.cancel}),Object(a.jsx)(m.a,{onClick:function(t){c(),e.deleteQuiz(t,e.quizindex)},color:"secondary",children:I.delete})]})]})]})},"editquiztitlecomp"+e.quizid)};var xe=function(e){return Object(a.jsx)(R.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:e.quizname})})},"editquiztitlecomp")},pe="",Oe=Object(x.a)((function(e){return{root:{width:"100%",maxWidth:"100%",backgroundColor:e.palette.background.paper,"& > *":{margin:e.spacing(1)}}}})),he=null;function fe(e,t){var n=JSON.parse(JSON.stringify(e));switch(t.type){case"increment":return{count:e.count+1};case"INIT_DATA":return console.log(t),t.data;case"ANSWER_CHANGED":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].answer=t.data.newText,n;case"QUESTION_CHANGED":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].question=t.data.newText,n;case"QUIZ_CHANGED":return n[t.data.quizIndex].quizname=t.data.newText,n;case"ADD_ANSWER":var a={answer:"",correct:!1,selected:!1,id:t.data.id};return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions.push(a),n;case"ADD_QUESTION":var r={question:"",answerOptions:[],id:t.data.id};return n[t.data.quizIndex].quizQuestions.push(r),n;case"ADD_QUIZ":var i={id:t.data.quizId,quizname:t.data.quizname,quizQuestions:[]};return n.push(i),n;case"DELETE_ANSWER":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions.splice(t.data.answerIndex,1),n;case"DELETE_QUESTION":return n[t.data.quizIndex].quizQuestions.splice(t.data.questionIndex,1),n;case"DELETE_QUIZ":return n.splice(t.data.quizIndex,1),n;case"SELECT_TOGGLE":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].selected=!n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].selected,n;case"CORRECT_TOGGLE":return n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].correct=!n[t.data.quizIndex].quizQuestions[t.data.questionIndex].answerOptions[t.data.answerIndex].correct,n;default:throw new Error}}he="https://vappus-quiz-app.herokuapp.com/",pe="https://vappus-quiz-app.herokuapp.com";var ge=Object(ie.c)((function(){var e=Oe(),t=Object(r.useState)(!1),n=Object(b.a)(t,2),s=n[0],c=n[1],o=Object(r.useState)(0),u=Object(b.a)(o,2),d=u[0],x=u[1],p=Object(r.useState)(!1),O=Object(b.a)(p,2),h=O[0],f=O[1],g=Object(r.useReducer)(fe,[]),v=Object(b.a)(g,2),w=v[0],q=v[1],z=Object(r.useState)(!1),k=Object(b.a)(z,2),y=k[0],Q=k[1],T=Object(r.useState)(!1),_=Object(b.a)(T,2),R=_[0],G=_[1],H=Object(r.useState)("en"),P=Object(b.a)(H,2),W=P[0],K=P[1],F=Object(ie.b)().enqueueSnackbar,X=Object(r.useState)({firstname:"",surname:"",id:null,role_id:null}),Z=Object(b.a)(X,2),J=Z[0],V=Z[1],$=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={email:t.email,password:t.password,firstname:t.firstname,surname:t.surname,role_id:t.role_id},console.log(n),e.prev=3,e.next=6,L.a.post("http://localhost:5000/register/",n).then((function(e){var n=I.registersuccess;F(n,{variant:"success"}),V(t),2==t.role_id&&G(!0),Q(!0)}));case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),a=I.registerfail,F(a,{variant:"error"}),console.log("registration error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={email:t.email,password:t.password},console.log(n),e.prev=3,e.next=6,L.a.post("http://localhost:5000/login/",n).then((function(e){console.log(e,"LOGIN RESPONSE"),localStorage.setItem("jwtToken",e.data.token),V({firstname:e.data.userObj.firstname,surname:e.data.userObj.surname,id:e.data.userObj.surname,role_id:e.data.userObj.role_id}),2==e.data.userObj.role_id&&G(!0),Q(!0);var t=I.loginsuccess;F(t,{variant:"success"})}));case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),a=I.loginfail,F(a,{variant:"error"}),console.log("login error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=ce()(pe);e.on("connected",(function(t){console.log("CONNECTED"),e.emit("ready for data",{}),F("Socket connected!")})),e.on("update",(function(e){var t="";switch(console.log("UPDATED",e.message.payload),e.message.channel){case"addquiz":t="New Quiz: "+e.message.payload;break;case"adduser":t=e.message.payload+" just registered for the first time!";break;case"alterquiz":var n=JSON.parse(e.message.payload);console.log("hi from here"),console.log(n),t="Quiz: "+n.old+" was renamed to "+n.new;break;case"addedrecord":t="this is a test!"}F(t)}))}),[]),Object(r.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,a,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(he+"quiz");case 3:if(!((t=e.sent).data.length>0)){e.next=31;break}n=0;case 6:if(!(n<t.data.length)){e.next=26;break}return t.data[n].quizQuestions=[],e.next=10,L.a.get(he+"quiz/"+t.data[n].id+"/question/");case 10:if(a=e.sent,t.data[n].quizQuestions=a.data,!(t.data[n].quizQuestions.length>0)){e.next=23;break}r=0;case 14:if(!(r<t.data[n].quizQuestions.length)){e.next=23;break}return t.data[n].quizQuestions[r].answerOptions=[],e.next=18,L.a.get(he+"quiz/"+t.data[n].id+"/question/"+t.data[n].quizQuestions[r].id+"/answer");case 18:i=e.sent,t.data[n].quizQuestions[r].answerOptions=i.data;case 20:r++,e.next=14;break;case 23:n++,e.next=6;break;case 26:console.log(t.data),q({type:"INIT_DATA",data:t.data}),c(!0),e.next=32;break;case 31:throw"No data :(";case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var ee=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w[n].id,r={},e.prev=2,e.next=5,L.a.post(he+"quiz/"+a,r).then((function(e){console.log("new id"+e.data.id),q({type:"ADD_QUESTION",data:{quizIndex:d,id:e.data.id}})}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){var r,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w[n].id,i=w[n].quizQuestions[a].id,s={correct:!1},e.prev=3,e.next=6,L.a.post(he+"quiz/"+r+"/question/"+i,s).then((function(e){console.log("new id"+e.data.id),q({type:"ADD_ANSWER",data:{quizIndex:d,questionIndex:a,id:e.data.id}})}));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),se=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={quizname:t},e.prev=1,e.next=4,L.a.post(he+"quiz/",n).then((function(e){console.log("new id"+e.data.id),q({type:"ADD_QUIZ",data:{quizId:e.data.id,quizname:t}})}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.value),a=w[n].id,r={quizname:t.target.value},e.prev=3,e.next=6,L.a.put(he+"quiz/"+a,r);case 6:e.sent,q({type:"QUIZ_CHANGED",data:{newText:r.quizname,quizIndex:n}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){var r,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w[n].id,i=w[n].quizQuestions[a].id,s={question:t.target.value},e.prev=3,e.next=6,L.a.put(he+"quiz/"+r+"/question/"+i,s);case 6:e.sent,q({type:"QUESTION_CHANGED",data:{newText:s.question,quizIndex:n,questionIndex:a}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a,r,i){var s,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=w[n].id,c=w[n].quizQuestions[a].id,o=w[n].quizQuestions[a].answerOptions[r].id,u={},e.t0=i,e.next="TEXT"===e.t0?7:"CHECKBOX"===e.t0?10:13;break;case 7:return u.answer=t.target.value,u.correct=w[n].quizQuestions[a].answerOptions[r].correct,e.abrupt("break",16);case 10:return u.answer=w[n].quizQuestions[a].answerOptions[r].answer,u.correct=!w[n].quizQuestions[a].answerOptions[r].correct,e.abrupt("break",16);case 13:return u.answer=w[n].quizQuestions[a].answerOptions[r].answer,u.correct=w[n].quizQuestions[a].answerOptions[r].correct,e.abrupt("break",16);case 16:return e.prev=16,e.next=19,L.a.put(he+"quiz/"+s+"/question/"+c+"/answer/"+o,u);case 19:e.sent,e.t1=i,e.next="TEXT"===e.t1?23:"CHECKBOX"===e.t1?25:27;break;case 23:return q({type:"ANSWER_CHANGED",data:{newText:u.answer,quizIndex:n,questionIndex:a,answerIndex:r}}),e.abrupt("break",28);case 25:return q({type:"CORRECT_TOGGLE",data:{newText:u.answer,quizIndex:n,questionIndex:a,answerIndex:r}}),e.abrupt("break",28);case 27:return e.abrupt("break",28);case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(16),console.log(e.t2);case 33:case"end":return e.stop()}}),e,null,[[16,30]])})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),le=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w[n].id,i=w[n].quizQuestions[a].id,e.prev=2,e.next=5,L.a.delete(he+"quiz/"+r+"/question/"+i);case 5:e.sent,q({type:"DELETE_QUESTION",data:{newText:"",quizIndex:d,questionIndex:a}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w[n].id,e.prev=1,x(0),e.next=5,L.a.delete(he+"quiz/"+a);case 5:e.sent,q({type:"DELETE_QUIZ",data:{newText:"",quizIndex:n}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a,r){var i,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w[n].id,s=w[n].quizQuestions[a].id,c=w[n].quizQuestions[a].answerOptions[r].id,e.prev=3,e.next=6,L.a.delete(he+"quiz/"+i+"/question/"+s+"/answer/"+c);case 6:e.sent,q({type:"DELETE_ANSWER",data:{newText:"",quizIndex:d,questionIndex:a,answerIndex:r}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),me=i.a.useState({teacherMode:!1}),we=Object(b.a)(me,2),qe=we[0];return we[1],Object(a.jsx)("div",{children:Object(a.jsxs)(D.a,{className:"quizContainer",children:[Object(a.jsx)(C,{switchLanguage:function(e){K(e),I.setLanguage(e)},isLoggedIn:y,logOut:function(){V({firstname:"",surname:"",id:null,role_id:null}),Q(!1),G(!1)},language:W}),Object(a.jsxs)(U.d,{children:[Object(a.jsx)(U.b,{exact:!0,path:"/register",component:function(){return Object(a.jsx)(B,{submitRegistration:$,isRegistered:y})}}),Object(a.jsx)(U.b,{exact:!0,path:"/",children:y?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"greetingContainer",children:Object(a.jsxs)("p",{className:"greeting",children:[I.greet,", ",J.firstname," ",J.surname,Object(a.jsx)("br",{}),I.userinrole,": ",J.role_id]})}),Object(a.jsxs)("div",{className:e.root,children:[s?w.map((function(e,t){return Object(a.jsx)(m.a,{variant:"outlined",onClick:function(){x(t)},children:e.quizname})})):null,R&&s?Object(a.jsx)("div",{children:Object(a.jsx)(je,{addNewQuiz:se})}):""]}),s?Object(a.jsx)("div",{className:"questionCard",children:Object(a.jsx)(A.a,{elevation:1,padding:"10%",children:R?Object(a.jsx)(be,{quizname:w[d].quizname,quizid:w[d].id,quizindex:d,updateQuiz:oe,deleteQuiz:ge}):Object(a.jsx)(xe,{quizname:w[d].quizname})})}):"",s?w[d].quizQuestions.map((function(t,n){return Object(a.jsx)("div",{className:"questionCard",children:Object(a.jsx)(A.a,{elevation:1,children:Object(a.jsxs)(E.a,{className:e.root,children:[Object(a.jsx)("h3",{children:t.topicArea}),R?Object(a.jsx)(M,{value:t,quiz:d,parentIndex:n,updateQuestion:ue,deleteQuestion:le}):Object(a.jsx)("div",{className:"question",children:t.question}),t.answerOptions.map((function(e,t){return Object(a.jsx)("div",{children:R?Object(a.jsx)(te,{value:e,quiz:d,parentIndex:n,index:t,status:qe,updateAnsweroption:de,deleteAnsweroption:ve,dispatch:q}):Object(a.jsx)(ae,{value:e,quiz:d,parentIndex:n,index:t,answersVisible:h})})})),R?Object(a.jsx)("div",{className:"addButton",children:Object(a.jsx)(m.a,{onClick:function(e){return ne(e,d,n)},children:Object(a.jsx)(N.a,{})})}):""]})})})})):null,Object(a.jsx)("div",{className:"bottomButtons",children:R?Object(a.jsxs)(m.a,{variant:"contained",onClick:function(e){return ee(e,d)},children:[Object(a.jsx)(S.a,{}),"   ",I.addnewquestion]}):Object(a.jsx)(m.a,{variant:"contained",onClick:function(){f(!h)},children:h?I.hidecorrect:I.showcorrect})})]}):Object(a.jsx)(re,{submitLogin:Y,isLoggedIn:y})})]})]})})})),ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};c.a.render(Object(a.jsx)(z.a,{children:Object(a.jsx)(ie.a,{maxSnack:3,variant:"info",children:Object(a.jsx)(ge,{})})}),document.getElementById("root")),ve()}},[[216,1,2]]]);
//# sourceMappingURL=main.4f86b983.chunk.js.map