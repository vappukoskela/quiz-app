{"version":3,"sources":["localization/strings.js","components/ButtonAppBar.js","components/Register.js","components/QuestionDropZone.js","components/EditQuestion.js","components/EditAnswerOption.js","components/AnswerOption.js","components/Login.js","components/NewQuizDialog.js","components/EditQuizTitleComponent.js","components/QuizTitleComponent.js","components/CorrectAnswersCard.js","App.js","reportWebVitals.js","index.js"],"names":["strings","LocalizedStrings","en","fi","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","lanselect","margin","width","paddingInlineStart","list","fullList","menuitem","heading","fontSize","typography","pxToRem","fontWeight","fontWeightBold","nameHeader","ButtonAppBar","props","setLanguage","language","classes","useState","drawerOpen","setDrawerOpen","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","onClick","Typography","variant","to","style","textDecoration","isLoggedIn","Button","disableElevation","logOut","logout","login","Fragment","Drawer","open","onClose","List","ListItem","user","firstname","surname","email","role_id","admin","student","Accordion","AccordionSummary","AccordionDetails","MenuList","MenuItem","value","selected","e","switchLanguage","Register","password","userData","setUserData","isAdmin","setIsAdmin","changeData","field","target","useEffect","isRegistered","register","TextField","onChange","event","size","label","type","Checkbox","checked","adminuser","console","log","submitRegistration","QuestionDropZone","baseStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","outline","transition","activeStyle","acceptStyle","rejectStyle","onDrop","useCallback","files","a","req","superagent","post","forEach","file","attach","end","err","res","useDropzone","acceptedFiles","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useMemo","map","path","EditQuestion","showDropZone","setShowDropZone","question","questionText","setQuestionText","role","undefined","dense","fullWidth","onBlur","updateQuestion","quiz","parentIndex","deleteQuestion","id","EditAnswerOption","GreenCheckbox","withStyles","green","answer","answerText","setAnswerText","ListItemIcon","updateAnsweroption","index","correct","tabIndex","updateUseranswer","deleteAnsweroption","AnswerOption","answersVisible","disabled","ListItemText","primary","Login","submitLogin","reglink","NewQuizDialog","React","setOpen","quizname","setQuizname","handleClose","Dialog","aria-labelledby","DialogTitle","DialogContent","autoFocus","DialogActions","addNewQuiz","EditQuizTitleComponent","titleText","setTitleText","updateQuiz","quizindex","deleting","areyousuredelete","actioncannotbeundone","cancel","deleteQuiz","delete","quizid","QuizTitleComponent","CorrectAnswersCard","sIOEndpoint","maxWidth","palette","background","paper","reducer","state","action","deepCopy","JSON","parse","stringify","data","quizIndex","quizQuestions","questionIndex","answerOptions","answerIndex","newText","newAnswer","push","newQuestion","newQuiz","quizId","splice","points","correctOptions","Error","withSnackbar","dataAlustettu","setDataAlustettu","setQuiz","setAnswersVisible","useReducer","dispatch","loggedIn","setLoggedIn","setAdmin","lan","setLan","enqueueSnackbar","useSnackbar","localStorage","getItem","token","setToken","setUser","getUser","axios","get","then","response","username","emailLower","toLower","body","snackMsg","registersuccess","registerfail","setItem","userObj","loginsuccess","loginfail","socket","socketIOClient","on","emit","message","channel","payload","thisPayload","old","new","result","length","i","questions","j","answers","fetchData","addQuestion","addAnsweroption","questionId","addQuiz","put","editMode","answerId","tallyAnswersForQuestions","questionPoints","talliedQuiz","Container","newLan","removeItem","exact","component","val","Paper","elevation","topicArea","addnewquestion","toggleAnswers","hidecorrect","showcorrect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","maxSnack","document","getElementById"],"mappings":"8ZAmFeA,EAjFD,I,OAAIC,GACd,CACIC,GAAI,CACA,MAAS,QACT,SAAY,WACZ,MAAS,QACT,SAAY,WACZ,QAAW,gBACX,UAAa,aACb,QAAW,UACX,UAAa,aACb,YAAe,eACf,YAAe,uBACf,YAAe,uBACf,SAAY,WACZ,OAAU,SACV,eAAkB,mBAClB,aAAgB,iBAChB,WAAc,eACd,OAAU,SACV,SAAY,sBACZ,MAAS,QACT,SAAY,WACZ,iBAAoB,6CACpB,qBAAwB,gCACxB,OAAU,SACV,OAAU,SACV,YAAe,wCACf,UAAa,eACb,aAAgB,4BAChB,gBAAmB,mCACnB,aAAgB,sBAChB,MAAS,QACT,WAAc,eACd,SAAY,oBACZ,MAAS,QACT,QAAW,UACX,SAAY,aACZ,QAAW,WAEfC,GAAI,CACA,MAAS,WACT,SAAY,kBACZ,MAAS,mBACT,SAAY,WACZ,QAAW,8BACX,UAAa,UACb,QAAW,WACX,UAAa,0BACb,YAAe,WACf,YAAe,gCACf,YAAe,4BACf,SAAY,UACZ,OAAU,UACV,eAAkB,2BAClB,aAAgB,2BAChB,WAAc,0BACd,OAAU,SACV,SAAY,sCACZ,MAAS,YACT,SAAY,aACZ,iBAAoB,2DACpB,qBAAwB,yCACxB,OAAU,UACV,OAAU,gBACV,YAAe,wCACf,UAAa,+BACb,aAAgB,qCAChB,gBAAmB,4CACnB,aAAgB,sCAChB,MAAS,MACT,WAAc,6BACd,SAAY,iBACZ,MAAS,QACT,QAAW,UACX,SAAY,iBACZ,QAAW,YClEjBC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAaJ,EAAMK,QAAQ,IAE7BC,MAAO,CACLJ,SAAU,GAEZK,UAAW,CACTC,OAAQR,EAAMK,QAAQ,GACtBI,MAAO,OACPC,mBAAoB,QAEtBC,KAAM,CACJF,MAAO,KAETG,SAAU,CACRH,MAAO,QAETI,SAAU,CACRJ,MAAO,WAETK,QAAS,CACPC,SAAUf,EAAMgB,WAAWC,QAAQ,IACnCC,WAAYlB,EAAMgB,WAAWG,gBAE/BC,WAAY,CACVL,SAAUf,EAAMgB,WAAWC,QAAQ,IACnCC,WAAYlB,EAAMgB,WAAWG,oBAgFlBE,MA3Ef,SAAsBC,GACpB5B,EAAQ6B,YAAYD,EAAME,UAC1B,IAAMC,EAAU3B,IAFW,EAGS4B,oBAAS,GAHlB,mBAGpBC,EAHoB,KAGRC,EAHQ,KAM3B,OACE,sBAAKC,UAAWJ,EAAQxB,KAAxB,UACE,cAAC6B,EAAA,EAAD,CAAQC,SAAS,QAAjB,SACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAYC,KAAK,QAAQL,UAAWJ,EAAQtB,WAAYgC,MAAM,UAAUC,aAAW,OAAOC,QAAS,kBAAMT,GAAc,IAAvH,SACE,cAAC,IAAD,MAGF,cAACU,EAAA,EAAD,CAAYC,QAAQ,KAAKV,UAAWJ,EAAQnB,MAA5C,SACE,cAAC,IAAD,CAAMkC,GAAG,IAAIC,MAAO,CAAEC,eAAgB,OAAQP,MAAO,SAArD,wBAKDb,EAAMqB,WAAa,cAACC,EAAA,EAAD,CAAQL,QAAQ,YAAYJ,MAAM,UAAUU,kBAAgB,EAACR,QAAS,kBAAMf,EAAMwB,UAAlF,SAA6FpD,EAAQqD,SAEvH,cAAC,IAAD,CAAMP,GAAG,IAAIC,MAAO,CAAEC,eAAgB,QAAtC,SACE,cAACE,EAAA,EAAD,CAAQL,QAAQ,YAAYJ,MAAM,UAAUU,kBAAgB,EAA5D,SAA8DnD,EAAQsD,eAK9E,cAAC,IAAMC,SAAP,UACE,cAACC,EAAA,EAAD,CAAQC,KAAMxB,EAAYyB,QAAS,kBAAMxB,GAAc,IAAvD,SACE,eAACyB,EAAA,EAAD,CAAMxB,UAAWJ,EAAQd,KAAzB,UACE,cAAC2C,EAAA,EAAD,UACE,cAAChB,EAAA,EAAD,CAAYT,UAAWJ,EAAQX,QAA/B,SAAwC,4CAD5B,WAGbQ,EAAMqB,WACL,gCACE,eAACW,EAAA,EAAD,CAAiBzB,UAAWJ,EAAQL,WAApC,UACGE,EAAMiC,KAAKC,UADd,IAC0BlC,EAAMiC,KAAKE,UADvB,IAGd,cAACH,EAAA,EAAD,UACE,4BAAIhC,EAAMiC,KAAKG,UAEjB,cAACJ,EAAA,EAAD,UAC0B,MAAvBhC,EAAMiC,KAAKI,QACV,8BAAIjE,EAAQkE,MAAZ,OACE,kCAAKlE,EAAQmE,gBAInB,GACJ,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAACzB,EAAA,EAAD,CAAYT,UAAWJ,EAAQX,QAA/B,SAAyCpB,EAAQ8B,aAEnD,cAACwC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAUpC,UAAWJ,EAAQd,KAA7B,UAEE,cAACuD,EAAA,EAAD,CAAUC,MAAM,KAAKC,SAA6B,OAAnB9C,EAAME,SAAmBa,QAAS,SAACgC,GAAD,OAAO/C,EAAMgD,eAAe,OAA7F,uBACA,cAACJ,EAAA,EAAD,CAAUC,MAAM,KAAKC,SAA6B,OAAnB9C,EAAME,SAAmBa,QAAS,SAACgC,GAAD,OAAO/C,EAAMgD,eAAe,OAA7F,mCA9BQ,kB,+GCZXC,EAxDE,SAACjD,GAAW,IAAD,EACQI,mBAAS,CACrC8B,UAAW,GACXC,QAAS,GACTC,MAAO,GACPc,SAAU,GACVb,QAAS,IANW,mBACjBc,EADiB,KACPC,EADO,OAQMhD,oBAAS,GARf,mBAQjBiD,EARiB,KAQRC,EARQ,KAUlBC,EAAa,SAACR,EAAGS,GACnBJ,EAAY,2BAAKD,GAAN,kBAAiBK,EAAQT,EAAEU,OAAOZ,UAGjDa,qBAAU,WAEFN,EADAC,EACY,2BAAKF,GAAN,IAAgB,QAAW,IAE1B,2BAAKA,GAAN,IAAgB,QAAW,OAE3C,CAACE,IAOJ,OACI,qBAAK9C,UAAU,YAAf,SACKP,EAAM2D,aAAe,cAAC,IAAD,CAAUzC,GAAG,MAC/B,eAACa,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UACI,6BAAK5D,EAAQwF,aAEjB,cAAC5B,EAAA,EAAD,UACI,cAAC6B,EAAA,EAAD,CAAWC,SAAU,SAACC,GAAD,OAAWR,EAAWQ,EAAO,cAAcC,KAAK,QAAQC,MAAO7F,EAAQ8D,UAAWjB,QAAQ,eAEnH,cAACe,EAAA,EAAD,UACI,cAAC6B,EAAA,EAAD,CAAWC,SAAU,SAACC,GAAD,OAAWR,EAAWQ,EAAO,YAAYC,KAAK,QAAQC,MAAO7F,EAAQ+D,QAASlB,QAAQ,eAE/G,cAACe,EAAA,EAAD,UACI,cAAC6B,EAAA,EAAD,CAAWC,SAAU,SAACC,GAAD,OAAWR,EAAWQ,EAAO,UAAUC,KAAK,QAAQC,MAAO7F,EAAQgE,MAAOnB,QAAQ,eAE3G,cAACe,EAAA,EAAD,UACI,cAAC6B,EAAA,EAAD,CAAWC,SAAU,SAACC,GAAD,OAAWR,EAAWQ,EAAO,aAAaC,KAAK,QAAQC,MAAO7F,EAAQ8E,SAAUgB,KAAK,WAAWjD,QAAQ,eAEjI,eAACe,EAAA,EAAD,WAAU,cAACmC,EAAA,EAAD,CAAUC,QAASf,EAASS,SAAU,SAACf,GAAD,OAAOO,GAAYD,MAAnE,IAAiFjF,EAAQiG,UAAzF,OACA,cAACrC,EAAA,EAAD,UACI,cAACV,EAAA,EAAD,CAAQL,QAAQ,WAAWF,QAzB3B,WAChBuD,QAAQC,IAAIpB,GACZnD,EAAMwE,mBAAmBrB,IAuBT,SAAkD/E,EAAQwF,mB,8DCsCnEa,OAxFf,SAA0BzE,GAGtB,IAAM0E,EAAY,CACdC,KAAM,EACNC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,QAAS,OACTC,YAAa,EACbC,aAAc,EACdC,YAAa,UACbC,YAAa,SACbC,gBAAiB,UACjBvE,MAAO,UACPwE,QAAS,OACTC,WAAY,2BAGVC,EAAc,CAChBL,YAAa,WAGXM,EAAc,CAChBN,YAAa,WAGXO,EAAc,CAChBP,YAAa,WAIXQ,EAASC,sBAAW,uCAAC,WAAMC,GAAN,eAAAC,EAAA,sDACvBvB,QAAQC,IAAIqB,GAENE,EAAMC,IAAWC,KAAK,gCAE5BJ,EAAMK,SAAQ,SAAAC,GACVJ,EAAIK,OAAO,OAAQD,GACnB5B,QAAQC,IAAI2B,MAEhBJ,EAAIM,KAAI,SAACC,EAAKC,GACVhC,QAAQC,IAAI,kBAAmB+B,MAVZ,2CAAD,sDAavB,IA7C0B,EAuDzBC,YAAY,CAAEb,WANdc,EAjDyB,EAiDzBA,cACAC,EAlDyB,EAkDzBA,aACAC,EAnDyB,EAmDzBA,cACAC,EApDyB,EAoDzBA,aACAC,EArDyB,EAqDzBA,aACAC,EAtDyB,EAsDzBA,aAIE1F,EAAQ2F,mBAAQ,8BAAC,uCAChBpC,GACCiC,EAAepB,EAAc,IAC7BqB,EAAepB,EAAc,IAC7BqB,EAAepB,EAAc,OAE/BG,EAAQY,EAAcO,KAAI,SAAAb,GAAI,OAChC,+BACGA,EAAKc,KADR,MACiBd,EAAKlC,KADtB,WAASkC,EAAKc,SAMlB,OACI,oCACI,gDAASP,EAAa,CAAEtF,WAAxB,cACI,qCAAWuF,MAEPC,EACI,wDACA,4FAGZ,kCACI,6BAAKvI,EAAQwH,QACb,6BAAKA,WC1DNqB,OAvBf,SAAsBjH,GAAQ,IAAD,EACeI,oBAAS,GADxB,mBAClB8G,EADkB,KACJC,EADI,OAKe/G,mBAASJ,EAAM6C,MAAMuE,UALpC,mBAKlBC,EALkB,KAKJC,EALI,KAQzB,OAAQ,gCACJ,eAACtF,EAAA,EAAD,CAA+BuF,UAAMC,EAAWC,OAAK,EAArD,UACI,cAAC5D,EAAA,EAAD,CAAW6D,WAAS,EAAC5D,SAAU,SAACC,GAAD,OAAWuD,EAAgBvD,EAAMN,OAAOZ,QAAQ8E,OAAQ,SAAC5D,GAAD,OAAW/D,EAAM4H,eAAe7D,EAAO/D,EAAM6H,KAAM7H,EAAM8H,cAAc9D,KAAK,QAAQC,MAAQ7F,EAAQgJ,SAAY,KAAOpH,EAAM8H,YAAc,GAAI7G,QAAQ,WAAW4B,MAAOwE,IAChQ,cAAC/F,EAAA,EAAD,CAAQf,UAAU,eAAeQ,QAAS,SAACgD,GAAD,OAAW/D,EAAM+H,eAAehE,EAAO/D,EAAM6H,KAAM7H,EAAM8H,cAAnG,SAAiH,cAAC,IAAD,MACjH,cAACxG,EAAA,EAAD,CAAQf,UAAU,eAAeQ,QAAS,SAACgD,GAT/CoD,GAAiBD,IASb,SAAqE,cAAC,IAAD,QAH1DlH,EAAM6C,MAAMmF,IAK3B,cAAChG,EAAA,EAAD,UACKkF,EACG,cAAC,GAAD,IACE,S,2BCwBHe,OAzCf,SAA0BjI,GACtB,IAAMkI,EAAgBC,aAAW,CAC7BxJ,KAAM,CACJkC,MAAOuH,KAAM,KACb,YAAa,CACXvH,MAAOuH,KAAM,OAGjBhE,QAAS,IAPS+D,EAQjB,SAACnI,GAAD,OAAW,cAACmE,EAAA,EAAD,aAAUtD,MAAM,WAAcb,OATjB,EAWOI,mBAASJ,EAAM6C,MAAMwF,QAX5B,mBAWtBC,EAXsB,KAWVC,EAXU,KAa7B,OACI,eAACvG,EAAA,EAAD,CAAiDuF,UAAMC,EAAWC,OAAK,EAAvE,UACI,cAACe,GAAA,EAAD,UACI,cAACN,EAAD,CACIpE,SAAU,SAACC,GAAD,OAAW/D,EAAMyI,mBAAmB1E,EAAO/D,EAAM6H,KAAM7H,EAAM8H,YAAa9H,EAAM0I,MAAO,aACjGtE,QAASpE,EAAM6C,MAAM8F,QACrB/H,KAAK,QACLgI,UAAW,MAGnB,cAACJ,GAAA,EAAD,UACI,cAACrE,EAAA,EAAD,CAEIL,SAAU,SAACC,GAAD,OAAW/D,EAAM6I,iBAAiB9E,EAAO/D,EAAM6H,KAAM7H,EAAM8H,YAAa9H,EAAM0I,QAExFtE,QAASpE,EAAM6C,MAAMC,SACrBlC,KAAK,QACLgI,UAAW,MAGf,gCACI,cAAC/E,EAAA,EAAD,CAAWC,SAAU,SAACf,GAAD,OAAOwF,EAAcxF,EAAEU,OAAOZ,QAAQ8E,OAAQ,SAAC5D,GAAD,OAAW/D,EAAMyI,mBAAmB1E,EAAO/D,EAAM6H,KAAM7H,EAAM8H,YAAa9H,EAAM0I,MAAO,SAAS1E,KAAK,QAAQC,MAAQ7F,EAAQiK,OAAU,KAAOrI,EAAM0I,MAAQ,GAAIzH,QAAQ,WAAW4B,MAAOyF,IAC7P,cAAChH,EAAA,EAAD,CAAQf,UAAU,eAAeQ,QAAS,SAACgD,GAAD,OAAW/D,EAAM8I,mBAAmB/E,EAAO/D,EAAM6H,KAAM7H,EAAM8H,YAAa9H,EAAM0I,QAA1H,SAAkI,cAAC,IAAD,WArB/H,gBAAkB1I,EAAM6C,MAAMmF,K,UCiBtCe,OAlCf,SAAsB/I,GAClB,IAAMkI,EAAgBC,aAAW,CAC7BxJ,KAAM,CACFkC,MAAOuH,KAAM,KACb,YAAa,CACTvH,MAAOuH,KAAM,OAGrBhE,QAAS,IAPS+D,EAQnB,SAACnI,GAAD,OAAW,cAACmE,EAAA,EAAD,aAAUtD,MAAM,WAAcb,OAE5C,OACI,eAACgC,EAAA,EAAD,CAA+BuF,UAAMC,EAAWC,OAAK,EAArD,UACI,cAACe,GAAA,EAAD,UACKxI,EAAMgJ,eACH,cAACd,EAAD,CACI9D,QAASpE,EAAM6C,MAAM8F,QACrB/H,KAAK,QACLgI,UAAW,EACXK,UAAU,IACT,OAEb,cAACT,GAAA,EAAD,UACI,cAACrE,EAAA,EAAD,CACIL,SAAU,SAACC,GAAD,OAAW/D,EAAM6I,iBAAiB9E,EAAO/D,EAAM6H,KAAM7H,EAAM8H,YAAa9H,EAAM0I,QACxFtE,QAASpE,EAAM6C,MAAMC,SACrBlC,KAAK,QACLgI,UAAW,MAGnB,8BAAK,cAACM,GAAA,EAAD,CAAclB,GAAIhI,EAAM0I,MAAOS,QAASnJ,EAAM6C,MAAMwF,aAlB9CrI,EAAM6C,MAAMmF,KCgCpBoB,GAzCD,SAACpJ,GAAW,IAAD,EACWI,mBAAS,CACrCgC,MAAO,GACPc,SAAU,KAHO,mBACdC,EADc,KACJC,EADI,KAKfG,EAAa,SAACR,EAAGS,GACnBJ,EAAY,2BAAKD,GAAN,kBAAiBK,EAAQT,EAAEU,OAAOZ,UAQjD,OACI,qBAAKtC,UAAU,YAAf,SAEI,eAACwB,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UACI,6BAAK5D,EAAQsD,UAEjB,cAACM,EAAA,EAAD,UACI,cAAC6B,EAAA,EAAD,CAAWC,SAAU,SAACC,GAAD,OAAWR,EAAWQ,EAAO,UAAUC,KAAK,QAAQC,MAAO7F,EAAQgE,MAAOnB,QAAQ,eAE3G,cAACe,EAAA,EAAD,UACI,cAAC6B,EAAA,EAAD,CAAWC,SAAU,SAACC,GAAD,OAAWR,EAAWQ,EAAO,aAAaC,KAAK,QAAQC,MAAO7F,EAAQ8E,SAAUgB,KAAK,WAAWjD,QAAQ,eAEjI,cAACe,EAAA,EAAD,UACI,cAACV,EAAA,EAAD,CAAQL,QAAQ,WAAWF,QApBzB,WAEdf,EAAMqJ,YAAYlG,IAkBN,SAAgD/E,EAAQsD,UAK5D,cAACM,EAAA,EAAD,UACI,cAAC,IAAD,CAAMd,GAAG,YAAT,SAAqB,4BAAI9C,EAAQkL,oB,sECatCC,OA7Cf,SAAuBvJ,GAAQ,IAAD,EACJwJ,IAAMpJ,UAAS,GADX,mBACrByB,EADqB,KACf4H,EADe,OAEIrJ,mBAAS,IAFb,mBAErBsJ,EAFqB,KAEXC,EAFW,KAQtBC,EAAc,WAClBH,GAAQ,IAQV,OACE,gCACE,eAACnI,EAAA,EAAD,CAAQP,QAfY,WACtB0I,GAAQ,IAcN,UAAkC,cAAC,IAAD,IAAlC,oBACA,eAACI,GAAA,EAAD,CAAQhI,KAAMA,EAAMC,QAAS8H,EAAaE,kBAAgB,oBAA1D,UACE,cAACC,GAAA,EAAD,CAAa/B,GAAG,oBAAhB,6BACA,cAACgC,GAAA,EAAD,UAEE,cAACnG,EAAA,EAAD,CACEoG,WAAS,EACT/K,OAAO,QACP8I,GAAG,OACH/D,MAAM,YACNyD,WAAS,EACT5D,SAAU,SAACf,GAAD,OAAO4G,EAAY5G,EAAEU,OAAOZ,YAG1C,eAACqH,GAAA,EAAD,WACE,cAAC5I,EAAA,EAAD,CAAQP,QAAS6I,EAAa/I,MAAM,UAApC,oBAGA,cAACS,EAAA,EAAD,CAAQP,QAzBK,SAACgD,GACpB6F,IACA5J,EAAMmK,WAAWT,IAuBoB7I,MAAM,UAArC,uCCUKuJ,OA9Cf,SAAgCpK,GAAQ,IAAD,EACXwJ,IAAMpJ,UAAS,GADJ,mBAC5ByB,EAD4B,KACtB4H,EADsB,KAO7BG,EAAc,WAChBH,GAAQ,IARuB,EAeDrJ,mBAASJ,EAAM0J,UAfd,mBAe5BW,EAf4B,KAejBC,EAfiB,KAiBnC,OACI,cAACtI,EAAA,EAAD,CAAmDuF,UAAMC,EAAWC,OAAK,EAAzE,SACI,gCACI,cAAC5D,EAAA,EAAD,CAAWC,SAAU,SAACf,GAAD,OAAOuH,EAAavH,EAAEU,OAAOZ,QAAQ8E,OAAQ,SAAC5D,GAAD,OAAW/D,EAAMuK,WAAWxG,EAAO/D,EAAMwK,YAAYvG,MAAO7F,EAAQsL,SAAU1F,KAAK,QAAQ/C,QAAQ,WAAW4B,MAAOwH,IACvL,cAAC/I,EAAA,EAAD,CAAQf,UAAU,eAAeQ,QAlBrB,WACpB0I,GAAQ,IAiBA,SAA2D,cAAC,IAAD,MAC3D,eAACI,GAAA,EAAD,CAAQhI,KAAMA,EAAMC,QAAS8H,EAAaE,kBAAgB,oBAA1D,UACI,eAACC,GAAA,EAAD,CAAa/B,GAAG,oBAAhB,UAAqC5J,EAAQqM,SAA7C,IAAwDzK,EAAM0J,YAC9D,eAACM,GAAA,EAAD,WACI,4BACK5L,EAAQsM,mBAEb,4BACI,4BAAItM,EAAQuM,4BAGpB,eAACT,GAAA,EAAD,WACI,cAAC5I,EAAA,EAAD,CAAQP,QAAS6I,EAAa/I,MAAM,UAApC,SACKzC,EAAQwM,SAEb,cAACtJ,EAAA,EAAD,CAAQP,QAzBP,SAACgD,GAClB6F,IACA5J,EAAM6K,WAAW9G,EAAO/D,EAAMwK,YAuBiB3J,MAAM,YAArC,SACKzC,EAAQ0M,mBAnBd,oBAAsB9K,EAAM+K,SChBpCC,OAVf,SAA4BhL,GACxB,OACI,cAACgC,EAAA,EAAD,UACI,8BACG,6BAAKhC,EAAM0J,cAFJ,sBCOPuB,I,SCeXC,GAAc,GAEZ1M,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJQ,MAAO,OACPgM,SAAU,OACV/F,gBAAiB1G,EAAM0M,QAAQC,WAAWC,MAC1C,QAAS,CACPpM,OAAQR,EAAMK,QAAQ,SAMxBiI,GAAO,KAmBX,SAASuE,GAAQC,EAAOC,GACtB,IAAIC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUL,IACzC,OAAQC,EAAOvH,MACb,IAAK,YACH,OAAOuH,EAAOK,KAChB,IAAK,iBAEH,OADAJ,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeC,cAAcT,EAAOK,KAAKK,aAAa9D,OAASoD,EAAOK,KAAKM,QAC9HV,EACT,IAAK,mBAEH,OADAA,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAe7E,SAAWqE,EAAOK,KAAKM,QACzFV,EACT,IAAK,eAEH,OADAA,EAASD,EAAOK,KAAKC,WAAWrC,SAAW+B,EAAOK,KAAKM,QAChDV,EACT,IAAK,aACH,IAAIW,EAAY,CAAEhE,OAAQ,GAAIM,SAAS,EAAO7F,UAAU,EAAOkF,GAAIyD,EAAOK,KAAK9D,IAE/E,OADA0D,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeC,cAAcI,KAAKD,GACrFX,EACT,IAAK,eACH,IAAIa,EAAc,CAAEnF,SAAU,GAAI8E,cAAe,GAAIlE,GAAIyD,EAAOK,KAAK9D,IAErE,OADA0D,EAASD,EAAOK,KAAKC,WAAWC,cAAcM,KAAKC,GAC5Cb,EACT,IAAK,WACH,IAAIc,EAAU,CAAExE,GAAIyD,EAAOK,KAAKW,OAAQ/C,SAAU+B,EAAOK,KAAKpC,SAAUsC,cAAe,IAEvF,OADAN,EAASY,KAAKE,GACPd,EACT,IAAK,gBAEH,OADAA,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeC,cAAcQ,OAAOjB,EAAOK,KAAKK,YAAa,GAChHT,EACT,IAAK,kBAEH,OADAA,EAASD,EAAOK,KAAKC,WAAWC,cAAcU,OAAOjB,EAAOK,KAAKG,cAAe,GACzEP,EACT,IAAK,cAEH,OADAA,EAASgB,OAAOjB,EAAOK,KAAKC,UAAW,GAChCL,EACT,IAAK,gBAGH,OAFAA,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeC,cAAcT,EAAOK,KAAKK,aAAarJ,UAC7G4I,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeC,cAAcT,EAAOK,KAAKK,aAAarJ,SAC5G4I,EACT,IAAK,iBAGH,OAFAA,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeC,cAAcT,EAAOK,KAAKK,aAAaxD,SAC7G+C,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeC,cAAcT,EAAOK,KAAKK,aAAaxD,QAC5G+C,EACT,IAAK,qBAEH,OADAA,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeC,cAAcT,EAAOK,KAAKK,aAAarJ,SAAW2I,EAAOK,KAAKhJ,SAChI4I,EACT,IAAK,gBAIH,OAHAA,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeU,OAASlB,EAAOK,KAAKa,OAC9FjB,EAASD,EAAOK,KAAKC,WAAWC,cAAcP,EAAOK,KAAKG,eAAeW,eAAiBnB,EAAOK,KAAKc,eACtGtI,QAAQC,IAAImH,GACLA,EACT,QACE,MAAM,IAAImB,OApEZ7F,GAAO,yCACPkE,GAAc,wCAsiBH4B,qBA7df,WAEE,IAAM3M,EAAU3B,KAFH,EAG6B4B,oBAAS,GAHtC,mBAGN2M,EAHM,KAGSC,EAHT,OAIW5M,mBAAS,MAJpB,mBAINyH,EAJM,KAIAoF,EAJA,OAK+B7M,oBAAS,GALxC,mBAKN4I,EALM,KAKUkE,EALV,OAMaC,qBAAW5B,GAAS,IANjC,mBAMNC,EANM,KAMC4B,EAND,OAOmBhN,oBAAS,GAP5B,mBAONiN,EAPM,KAOIC,EAPJ,OAQalN,oBAAS,GARtB,mBAQNkC,EARM,KAQCiL,EARD,OASSnN,mBAAS,MATlB,mBASNoN,EATM,KASDC,EATC,KAULC,EAAoBC,eAApBD,gBAVK,EAWatN,mBAASwN,aAAaC,QAAQ,aAX3C,mBAWNC,EAXM,KAWCC,EAXD,OAYW3N,mBAAS,CAC/B8B,UAAW,GACXC,QAAS,GACTC,MAAO,GACP4F,GAAI,KACJ3F,QAAS,OAjBE,mBAYNJ,EAZM,KAYA+L,EAZA,KAsCbtK,qBAAU,WACRY,QAAQC,IAAI,SAAUuJ,GACR,OAAVA,EACFR,GAAY,IAGZA,GAAY,GAEZW,QAGD,CAACZ,EAAUS,IAEd,IAAMG,GAAO,uCAAG,sBAAApI,EAAA,+EAENqI,IAAMC,IAAInH,GAAO,qBAAuB8G,GAAOM,MAAK,SAAAC,GACxDL,EACE,CACE9L,UAAWmM,EAASvC,KAAK5J,UACzBC,QAASkM,EAASvC,KAAK3J,QACvBC,MAAOiM,EAASvC,KAAKwC,SACrBtG,GAAIqG,EAASvC,KAAK9D,GAClB3F,QAASgM,EAASvC,KAAKzJ,UAGE,GAAzBgM,EAASvC,KAAKzJ,SAChBkL,GAAS,GAEXD,GAAY,MAfF,sDAkBZhJ,QAAQC,IAAI,qBAAZ,MAlBY,wDAAH,qDAsBPC,GAAkB,uCAAG,WAAOrB,GAAP,mBAAA0C,EAAA,6DACrB0I,EAAaC,mBAAQrL,EAASf,OAClCkC,QAAQC,IAAIpB,GACRsL,EAAO,CACTrM,MAAOmM,EACPrL,SAAUC,EAASD,SACnBhB,UAAWiB,EAASjB,UACpBC,QAASgB,EAAShB,QAClBE,QAASc,EAASd,SAEpBiC,QAAQC,IAAIkK,GAVa,kBAYjBP,IAAMlI,KAAKgB,GAAO,YAAayH,GAAML,MAAK,SAAAC,GAC9C,IAAIK,EAAWtQ,EAAQuQ,gBACvBjB,EAAgBgB,EAAU,CAAEzN,QAAS,YACb,GAApBkC,EAASd,SACXkL,GAAS,GAEXS,EAAQ7K,GACRmK,GAAY,MAnBS,uDAuBnBoB,EAAWtQ,EAAQwQ,aACvBlB,EAAgBgB,EAAU,CAAEzN,QAAS,UACrCqD,QAAQC,IAAI,qBAAZ,MAzBuB,yDAAH,sDA6BlB8E,GAAW,uCAAG,WAAOlG,GAAP,mBAAA0C,EAAA,6DACd0I,EAAaC,mBAAQrL,EAASf,OAC9BqM,EAAO,CACTrM,MAAOmM,EACPrL,SAAUC,EAASD,UAErBoB,QAAQC,IAAIkK,GANM,kBAQVP,IAAMlI,KAAKgB,GAAO,SAAUyH,GAAML,MAAK,SAAAC,GAC3C/J,QAAQC,IAAI8J,EAAU,kBACtBT,aAAaiB,QAAQ,WAAYR,EAASvC,KAAKgC,OAC/CE,EAAQ,CACN9L,UAAWmM,EAASvC,KAAKgD,QAAQ5M,UACjCC,QAASkM,EAASvC,KAAKgD,QAAQ3M,QAC/BC,MAAOiM,EAASvC,KAAKgD,QAAQR,SAC7BtG,GAAIqG,EAASvC,KAAKgD,QAAQ9G,GAC1B3F,QAASgM,EAASvC,KAAKgD,QAAQzM,UAEI,GAAjCgM,EAASvC,KAAKgD,QAAQzM,SACxBkL,GAAS,GAEXD,GAAY,GACZS,EAASM,EAASvC,KAAKgC,OACvB,IAAIY,EAAWtQ,EAAQ2Q,aACvBrB,EAAgBgB,EAAU,CAAEzN,QAAS,eAxBvB,uDA2BZyN,EAAWtQ,EAAQ4Q,UACvBtB,EAAgBgB,EAAU,CAAEzN,QAAS,UACrCqD,QAAQC,IAAI,cAAZ,MA7BgB,yDAAH,sDAiCjBb,qBAAU,WACR,IAAMuL,EAASC,KAAehE,IAC9B+D,EAAOE,GAAG,aAAa,SAAUrD,GAC/BmD,EAAOG,KAAK,iBAAkB,IAC9B1B,EAAgB,wBAElBuB,EAAOE,GAAG,UAAU,SAAUrD,GAC5B,IAAI4C,EAAW,GACf,OAAQ5C,EAAKuD,QAAQC,SACnB,IAAK,UACHZ,EAAW,aAAe5C,EAAKuD,QAAQE,QACvC,MACF,IAAK,UACHb,EAAW5C,EAAKuD,QAAQE,QAAU,uCAClC,MACF,IAAK,YACH,IAAIC,EAAc7D,KAAKC,MAAME,EAAKuD,QAAQE,SAC1Cb,EAAW,SAAWc,EAAYC,IAAM,mBAAqBD,EAAYE,IAK7EhC,EAAgBgB,QAEjB,IAEHhL,qBAAU,YACO,uCAAG,oCAAAmC,EAAA,+EAEKqI,IAAMC,IAAInH,GAAO,QAFtB,aAEV2I,EAFU,QAGH7D,KAAK8D,OAAS,GAHX,iBAIHC,EAAI,EAJD,YAIIA,EAAIF,EAAO7D,KAAK8D,QAJpB,wBAKVD,EAAO7D,KAAK+D,GAAG7D,cAAgB,GALrB,UAMYkC,IAAMC,IAAInH,GAAO,QAAU2I,EAAO7D,KAAK+D,GAAG7H,GAAK,cAN3D,WAMN8H,EANM,OAOVH,EAAO7D,KAAK+D,GAAG7D,cAAgB8D,EAAUhE,OACrC6D,EAAO7D,KAAK+D,GAAG7D,cAAc4D,OAAS,GARhC,iBASCG,EAAI,EATL,aASQA,EAAIJ,EAAO7D,KAAK+D,GAAG7D,cAAc4D,QATzC,wBAUND,EAAO7D,KAAK+D,GAAG7D,cAAc+D,GAAG7D,cAAgB,GAV1C,UAWcgC,IAAMC,IAAInH,GAAO,cAAgB/E,EAAK+F,GAAK,aAAe2H,EAAO7D,KAAK+D,GAAG7D,cAAc+D,GAAG/H,GAAK,WAX7G,QAWFgI,EAXE,OAYNL,EAAO7D,KAAK+D,GAAG7D,cAAc+D,GAAG7D,cAAgB8D,EAAQlE,KACxD6D,EAAO7D,KAAK+D,GAAG7D,cAAc+D,GAAGpD,OAAS,EACzCgD,EAAO7D,KAAK+D,GAAG7D,cAAc+D,GAAGnD,eAAiB,EAd3C,QASiDmD,IATjD,wBAI4BF,IAJ5B,uBAkBZzC,EAAS,CAAElJ,KAAM,YAAa4H,KAAM6D,EAAO7D,OAC3CkB,GAAiB,GAnBL,6BAsBL,aAtBK,0DA0Bd1I,QAAQC,IAAI,sBAAZ,MA1Bc,0DAAH,qDA8Bf0L,KAEC,CAAChO,IAEJ,IAiBMiO,GAAW,uCAAG,WAAOnM,EAAOgI,GAAd,iBAAAlG,EAAA,6DACd4G,EAASjB,EAAMO,GAAW/D,GAC1ByG,EAAO,GAFO,kBAIGP,IAAMlI,KAAKgB,GAAO,QAAUyF,EAAQgC,GAAML,MAAK,SAAAC,GAChE/J,QAAQC,IAAI,SAAW8J,EAASvC,KAAK9D,IACrCoF,EAAS,CAAElJ,KAAM,eAAgB4H,KAAM,CAAEC,UAAWlE,EAAMG,GAAIqG,EAASvC,KAAK9D,SAN9D,8DAShB1D,QAAQC,IAAR,MATgB,yDAAH,wDAaX4L,GAAe,uCAAG,WAAOpM,EAAOgI,EAAWE,GAAzB,mBAAApG,EAAA,6DAClB4G,EAASjB,EAAMO,GAAW/D,GAC1BoI,EAAa5E,EAAMO,GAAWC,cAAcC,GAAejE,GAC3DyG,EAAO,CAAE9F,SAAS,GAHA,kBAKDuF,IAAMlI,KAAKgB,GAAO,QAAUyF,EAAS,aAAe2D,EAAY3B,GAAML,MAAK,SAAAC,GAC5F/J,QAAQC,IAAI,SAAW8J,EAASvC,KAAK9D,IACrCoF,EAAS,CAAElJ,KAAM,aAAc4H,KAAM,CAAEC,UAAWlE,EAAMoE,cAAeA,EAAejE,GAAIqG,EAASvC,KAAK9D,SAPtF,8DAUpB1D,QAAQC,IAAR,MAVoB,yDAAH,0DAcf8L,GAAO,uCAAG,WAAO3G,GAAP,eAAA7D,EAAA,6DACV4I,EAAO,CAAE/E,SAAUA,GADT,kBAGOwE,IAAMlI,KAAKgB,GAAO,QAASyH,GAAML,MAAK,SAAAC,GACvD/J,QAAQC,IAAI,SAAW8J,EAASvC,KAAK9D,IACrCoF,EAAS,CAAElJ,KAAM,WAAY4H,KAAM,CAAEW,OAAQ4B,EAASvC,KAAK9D,GAAI0B,SAAUA,QAL/D,8DAQZpF,QAAQC,IAAR,MARY,yDAAH,sDAaPgG,GAAU,uCAAG,WAAOxG,EAAOgI,GAAd,iBAAAlG,EAAA,6DACjBvB,QAAQC,IAAIR,EAAMN,OAAOZ,OACrB4J,EAASjB,EAAMO,GAAW/D,GAC1ByG,EAAO,CACT/E,SAAU3F,EAAMN,OAAOZ,OAJR,kBAOIqL,IAAMoC,IAAItJ,GAAO,QAAUyF,EAAQgC,GAPvC,cAQfrB,EAAS,CAAElJ,KAAM,eAAgB4H,KAAM,CAAEM,QAASqC,EAAK/E,SAAUqC,UAAWA,KAR7D,kDAUfzH,QAAQC,IAAR,MAVe,0DAAH,wDAcVqD,GAAc,uCAAG,WAAO7D,EAAOgI,EAAWE,GAAzB,mBAAApG,EAAA,6DACjB4G,EAASjB,EAAMO,GAAW/D,GAC1BoI,EAAa5E,EAAMO,GAAWC,cAAcC,GAAejE,GAC3DyG,EAAO,CACTrH,SAAUrD,EAAMN,OAAOZ,OAJJ,kBAOAqL,IAAMoC,IAAItJ,GAAO,QAAUyF,EAAS,aAAe2D,EAAY3B,GAP/D,cAQnBrB,EAAS,CAAElJ,KAAM,mBAAoB4H,KAAM,CAAEM,QAASqC,EAAKrH,SAAU2E,UAAWA,EAAWE,cAAeA,KARvF,kDAUnB3H,QAAQC,IAAR,MAVmB,0DAAH,0DAadkE,GAAkB,uCAAG,WAAO1E,EAAOgI,EAAWE,EAAeE,EAAaoE,GAArD,qBAAA1K,EAAA,sDACrB4G,EAASjB,EAAMO,GAAW/D,GAC1BoI,EAAa5E,EAAMO,GAAWC,cAAcC,GAAejE,GAC3DwI,EAAWhF,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAanE,GACxF1D,QAAQC,IAAIiH,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,IACpEsC,EAAO,GALc,KAMjB8B,EANiB,OAOlB,SAPkB,OAWlB,aAXkB,+BAQrB9B,EAAKpG,OAAStE,EAAMN,OAAOZ,MAC3B4L,EAAK9F,QAAU6C,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAaxD,QATnE,oCAYrB8F,EAAKpG,OAASmD,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAa9D,OACvFoG,EAAK9F,SAAW6C,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAaxD,QAbpE,oCAgBrB8F,EAAKpG,OAASmD,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAa9D,OACvFoG,EAAK9F,QAAU6C,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAaxD,QAjBnE,wDAqBJuF,IAAMoC,IAAItJ,GAAO,QAAUyF,EAAS,aAAe2D,EAAa,WAAaI,EAAU/B,GArBnF,oBAsBf8B,EAtBe,OAuBhB,SAvBgB,QA0BhB,aA1BgB,gCAwBnBnD,EAAS,CAAElJ,KAAM,iBAAkB4H,KAAM,CAAEM,QAASqC,EAAKpG,OAAQ0D,UAAWA,EAAWE,cAAeA,EAAeE,YAAaA,KAxB/G,oCA2BnBiB,EAAS,CAAElJ,KAAM,iBAAkB4H,KAAM,CAAEM,QAASqC,EAAKpG,OAAQ0D,UAAWA,EAAWE,cAAeA,EAAeE,YAAaA,KA3B/G,oHAiCvB7H,QAAQC,IAAR,MAjCuB,2DAAH,8DAqClBsE,GAAgB,uCAAG,WAAO9E,EAAOgI,EAAWE,EAAeE,GAAxC,iBAAAtG,EAAA,yDACV2F,EAAMO,GAAW/D,GACbwD,EAAMO,GAAWC,cAAcC,GAAejE,GAC3DwI,EAAWhF,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAanE,GACpFyG,EAAO,GAE+E,OAAtFjD,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAarJ,SANtD,wBAOrB2L,EAAK3L,UAAW,EAPK,SAQFoL,IAAMlI,KAAKgB,GAAO,eAAiB/E,EAAK+F,GAAK,WAAawI,EAAU/B,GARlE,6CAWrBA,EAAK3L,UAAY0I,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAarJ,SAXrE,UAYFoL,IAAMoC,IAAItJ,GAAO,eAAiB/E,EAAK+F,GAAK,WAAawI,EAAU/B,GAZjE,uBAcvBrB,EAAS,CAAElJ,KAAM,qBAAsB4H,KAAM,CAAEhJ,SAAU2L,EAAK3L,SAAUiJ,UAAWA,EAAWE,cAAeA,EAAeE,YAAaA,KACzI7H,QAAQC,IAAI,qBAAsBkK,EAAK3L,UAfhB,4CAAH,4DAqBhBiF,GAAc,uCAAG,WAAOhE,EAAOgI,EAAWE,GAAzB,iBAAApG,EAAA,6DACjB4G,EAASjB,EAAMO,GAAW/D,GAC1BoI,EAAa5E,EAAMO,GAAWC,cAAcC,GAAejE,GAF1C,kBAIAkG,IAAMpD,OAAO9D,GAAO,QAAUyF,EAAS,aAAe2D,GAJtD,cAKnBhD,EAAS,CAAElJ,KAAM,kBAAmB4H,KAAM,CAAEM,QAAS,GAAIL,UAAWlE,EAAMoE,cAAeA,KALtE,gDAOnB3H,QAAQC,IAAR,MAPmB,yDAAH,0DAWdsG,GAAU,uCAAG,WAAO9G,EAAOgI,GAAd,eAAAlG,EAAA,6DACb4G,EAASjB,EAAMO,GAAW/D,GADb,SAGfiF,EAAQ,MAHO,SAIIiB,IAAMpD,OAAO9D,GAAO,QAAUyF,GAJlC,cAKfW,EAAS,CAAElJ,KAAM,cAAe4H,KAAM,CAAEM,QAAS,GAAIL,UAAWA,KALjD,gDAOfzH,QAAQC,IAAR,MAPe,yDAAH,wDAWVuE,GAAkB,uCAAG,WAAO/E,EAAOgI,EAAWE,EAAeE,GAAxC,mBAAAtG,EAAA,6DACrB4G,EAASjB,EAAMO,GAAW/D,GAC1BoI,EAAa5E,EAAMO,GAAWC,cAAcC,GAAejE,GAC3DwI,EAAWhF,EAAMO,GAAWC,cAAcC,GAAeC,cAAcC,GAAanE,GAH/D,kBAKJkG,IAAMpD,OAAO9D,GAAO,QAAUyF,EAAS,aAAe2D,EAAa,WAAaI,GAL5E,cAMvBpD,EAAS,CAAElJ,KAAM,gBAAiB4H,KAAM,CAAEM,QAAS,GAAIL,UAAWlE,EAAMoE,cAAeA,EAAeE,YAAaA,KAN5F,kDAQvB7H,QAAQC,IAAR,MARuB,0DAAH,4DA0BlBkM,GAA2B,SAAC1E,GAIhC,IAHA,IACI2E,EAAgB9D,EADhB+D,EAAcnF,EAAMO,GAGf8D,EAAI,EAAGA,EAAIc,EAAY3E,cAAc4D,OAAQC,IAAK,CACzD,IAAK,IAAIE,EAAI,EAAGA,EAAIY,EAAY3E,cAAc6D,GAAG3D,cAAc0D,OAAQG,IAC3D,IAANA,IACFW,EAAiB,EACjB9D,EAAiB,GAEf+D,EAAY3E,cAAc6D,GAAG3D,cAAc6D,GAAGpH,UAChDiE,IACI+D,EAAY3E,cAAc6D,GAAG3D,cAAc6D,GAAGjN,UAChD4N,KAINtD,EAAS,CAAElJ,KAAM,gBAAiB4H,KAAM,CAAEa,OAAQ+D,EAAgB9D,eAAgBA,EAAgBb,UAAWA,EAAWE,cAAe4D,OAK3I,OACE,8BACE,eAACe,EAAA,EAAD,CAAWrQ,UAAU,gBAArB,UACE,cAAC,EAAD,CAAcyC,eA5MG,SAAC6N,GACtBpD,EAAOoD,GACPzS,EAAQ6B,YAAY4Q,IA0M8B5O,KAAMA,EAAMZ,WAAYgM,EAAU7L,OAtYvE,WACbwM,EAAQ,CACN9L,UAAW,GACXC,QAAS,GACTC,MAAO,GACP4F,GAAI,KACJ3F,QAAS,OAEXiL,GAAY,GACZC,GAAS,GACTQ,EAAS,MACTd,EAAQ,MACRC,GAAkB,GAClBU,aAAakD,WAAW,aAyX4E5Q,SAAUsN,IAE1G,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuD,OAAK,EAAC/J,KAAK,YAAYgK,UAAW,kBAAM,cAAC,EAAD,CAAUxM,mBAAoBA,GAAoBb,aAAc0J,OAC/G,cAAC,IAAD,CAAO0D,OAAK,EAAC/J,KAAK,IAAlB,SACGqG,EACC,gCACE,sBAAK9M,UAAWJ,EAAQxB,KAAxB,UACGoO,GAAiBvB,EAAMoE,OAAS,EAAIpE,EAAMzE,KAAI,SAACkK,EAAKvI,GACnD,OAAO,cAACpH,EAAA,EAAD,CAAQL,QAAQ,WAAWF,QAAS,kBAAMkM,EAAQvE,IAAlD,SAA2DuI,EAAIvH,cACnE,KACJpH,EAAQ,8BAAK,cAAC,GAAD,CAAe6H,WAAYkG,OAAoB,MAEtD,MAARxI,EACC,qBAAKtH,UAAU,eAAf,SACE,cAAC2Q,EAAA,EAAD,CAAOC,UAAW,EAAGpM,QAAQ,MAA7B,SACGzC,EACG,cAAC,GAAD,CAAwBoH,SAAU8B,EAAM3D,GAAM6B,SAAUqB,OAAQS,EAAM3D,GAAMG,GAAIwC,UAAW3C,EAAM0C,WAAYA,GAAYM,WAAYA,KACrI,cAAC,GAAD,CAAoBnB,SAAU8B,EAAM3D,GAAM6B,eAGhD,GACK,MAAR7B,EAAe2D,EAAM3D,GAAMmE,cAAcjF,KAAI,SAAClE,EAAOiF,GACpD,OACE,qBAAKvH,UAAU,eAAf,SACE,cAAC2Q,EAAA,EAAD,CAAOC,UAAW,EAAlB,SACE,eAACpP,EAAA,EAAD,CAAMxB,UAAWJ,EAAQxB,KAAzB,UACE,6BAAKkE,EAAMuO,YACV9O,EACC,cAAC,GAAD,CAAcO,MAAOA,EAAOgF,KAAMA,EAAMC,YAAaA,EAAaF,eAAgBA,GAAgBG,eAAgBA,KAChH,qBAAKxH,UAAU,WAAf,SAA2BsC,EAAMuE,WAEpCvE,EAAMqJ,cAAcnF,KAAI,SAAClE,EAAO6F,GAC/B,OACE,8BACGpG,EACC,cAAC,GAAD,CAAkBO,MAAOA,EAAOgF,KAAMA,EAAMC,YAAaA,EAAaY,MAAOA,EAC3ED,mBAAoBA,GACpBI,iBAAkBA,GAClBC,mBAAoBA,GACpBsE,SAAUA,IAEV,cAAC,GAAD,CAAcvE,iBAAkBA,GAAkBhG,MAAOA,EAAOgF,KAAMA,EAAMC,YAAaA,EAAaY,MAAOA,EAAOM,eAAgBA,SAI7IA,EAAiB,gCAAMwC,EAAM3D,GAAMmE,cAAclE,GAAa6E,OAA7C,IAAsDnB,EAAM3D,GAAMmE,cAAclE,GAAa8E,eAA7F,IAA8GxO,EAAQuK,WAAiB,KACxJrG,EAAQ,qBAAK/B,UAAU,YAAf,SAA2B,cAACe,EAAA,EAAD,CAAQP,QAAS,SAACgD,GAAD,OAAWoM,GAAgBpM,EAAO8D,EAAMC,IAAzD,SAAuE,cAAC,IAAD,QAAmC,aAMpJ,KACJ,sBAAKvH,UAAU,gBAAf,UACG+B,GAAiB,MAARuF,EAAe,eAACvG,EAAA,EAAD,CAAQL,QAAQ,YAAYF,QAAS,SAACgD,GAAD,OAAWmM,GAAYnM,EAAO8D,IAAnE,UAA0E,cAAC,IAAD,IAA1E,MAAyFzJ,EAAQiT,kBAA2B,KACnJ/O,GAAiB,MAARuF,EAAmJ,KAApI,cAACvG,EAAA,EAAD,CAAQL,QAAQ,YAAYF,QAAS,kBA1FzD,WACpBmM,GAAmBlE,GACnB1E,QAAQC,IAAIiH,GACZ,IAAK,IAAIqE,EAAI,EAAGA,EAAIrE,EAAMoE,OAAQC,IAChCY,GAAyBZ,GAsFwDyB,IAA3C,SAA6DtI,EAAiB5K,EAAQmT,YAAcnT,EAAQoT,oBAG1I,cAAC,GAAD,CAAOnI,YAAaA,GAAahI,WAAYgM,iBC/jB5CoE,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBvD,MAAK,YAAkD,IAA/CwD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASC,OACL,cAAC,IAAD,UACE,cAAC,KAAD,CAAkBC,SAAU,EAAGlR,QAAQ,OAAvC,SACE,cAAC,GAAD,QAGNmR,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.c8ad2a1f.chunk.js","sourcesContent":["import LocalizedStrings from \"react-localization\";\r\n\r\nlet strings = new LocalizedStrings(\r\n    {\r\n        en: {\r\n            \"login\": \"Login\",\r\n            \"register\": \"Register\",\r\n            \"email\": \"Email\",\r\n            \"password\": \"Password\",\r\n            \"reglink\": \"Register here\",\r\n            \"firstname\": \"First name\",\r\n            \"surname\": \"Surname\",\r\n            \"adminuser\": \"Admin user\",\r\n            \"teachermode\": \"Teacher mode\",\r\n            \"showcorrect\": \"Show correct answers\",\r\n            \"hidecorrect\": \"Hide correct answers\",\r\n            \"question\": \"Question\",\r\n            \"answer\": \"Answer\",\r\n            \"addnewquestion\": \"Add new question\",\r\n            \"addnewanswer\": \"Add new answer\",\r\n            \"addnewquiz\": \"Add new quiz\",\r\n            \"delete\": \"Delete\",\r\n            \"regerror\": \"Registration failed\",\r\n            \"files\": \"Files\",\r\n            \"deleting\": \"Deleting\",\r\n            \"areyousuredelete\": \"Are you sure you want to delete this quiz?\",\r\n            \"actioncannotbeundone\": \"This action cannot be undone!\",\r\n            \"cancel\": \"Cancel\",\r\n            \"logout\": \"Logout\",\r\n            \"landingtext\": \"Please log in or register to continue\",\r\n            \"loginfail\": \"Login failed\",\r\n            \"loginsuccess\": \"Login successful! Welcome\",\r\n            \"registersuccess\": \"Registration successful! Welcome\",\r\n            \"registerfail\": \"Registration failed\",\r\n            \"greet\": \"Hello\",\r\n            \"userinrole\": \"User in role\",\r\n            \"language\": \"Language settings\",\r\n            \"admin\": \"admin\",\r\n            \"student\": \"student\",\r\n            \"quizname\": \"Quiz title\",\r\n            \"correct\": \"Correct\"\r\n        },\r\n        fi: {\r\n            \"login\": \"Kirjaudu\",\r\n            \"register\": \"Rekisteröidy\",\r\n            \"email\": \"Sähköposti\",\r\n            \"password\": \"Salasana\",\r\n            \"reglink\": \"Rekisteröidy tästä\",\r\n            \"firstname\": \"Etunimi\",\r\n            \"surname\": \"Sukunimi\",\r\n            \"adminuser\": \"Admin-käyttäjä\",\r\n            \"teachermode\": \"Opettaja\",\r\n            \"showcorrect\": \"Näytä oikeat vastaukset\",\r\n            \"hidecorrect\": \"Piilota oikeat vastaukset\",\r\n            \"question\": \"Kysymys\",\r\n            \"answer\": \"Vastaus\",\r\n            \"addnewquestion\": \"Lisää uusi kysymys\",\r\n            \"addnewanswer\": \"Lisää uusi vastaus\",\r\n            \"addnewquiz\": \"Lisää uusi tentti\",\r\n            \"delete\": \"Poista\",\r\n            \"regerror\": \"Rekisteröityminen epäonnistui\",\r\n            \"files\": \"Tiedostot\",\r\n            \"deleting\": \"Poistetaan\",\r\n            \"areyousuredelete\": \"Oletko varma, että haluat poistaa tämän tentin?\",\r\n            \"actioncannotbeundone\": \"Tätä toimintoa ei voi peruuttaa!\",\r\n            \"cancel\": \"Peruuta\",\r\n            \"logout\": \"Kirjaudu ulos\",\r\n            \"landingtext\": \"Kirjauduthan sisään jatkaaksesi\",\r\n            \"loginfail\": \"Kirjautuminen epäonnistui\",\r\n            \"loginsuccess\": \"Kirjautuminen onnistui! Tervetuloa\",\r\n            \"registersuccess\": \"Rekisteröityminen onnistui! Tervetuloa\",\r\n            \"registerfail\": \"Rekisteröityminen epäonnistui\",\r\n            \"greet\": \"Hei\",\r\n            \"userinrole\": \"Käyttäjä roolissa\",\r\n            \"language\": \"Kieliasetukset\",\r\n            \"admin\": \"admin\",\r\n            \"student\": \"oppilas\",\r\n            \"quizname\": \"Tentin otsikko\",\r\n            \"correct\": \"Oikein\"\r\n        }\r\n    }\r\n)\r\n\r\nexport default strings","\r\nimport React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Accordion, AccordionDetails, AccordionSummary, Button, Drawer, IconButton, List, ListItem, MenuItem, MenuList, Select } from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport strings from '../localization/strings';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  lanselect: {\r\n    margin: theme.spacing(1),\r\n    width: \"70px\",\r\n    paddingInlineStart: '15px'\r\n  },\r\n  list: {\r\n    width: 250,\r\n  },\r\n  fullList: {\r\n    width: 'auto',\r\n  },\r\n  menuitem: {\r\n    width: 'inherit'\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  nameHeader: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  }\r\n}));\r\n\r\n\r\nfunction ButtonAppBar(props) {\r\n  strings.setLanguage(props.language)\r\n  const classes = useStyles();\r\n  const [drawerOpen, setDrawerOpen] = useState(false)\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\" onClick={() => setDrawerOpen(true)}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            <Link to=\"/\" style={{ textDecoration: 'none', color: 'white' }}>\r\n              Quiz App\r\n            </Link>\r\n          </Typography>\r\n\r\n          {props.isLoggedIn ? <Button variant=\"contained\" color=\"primary\" disableElevation onClick={() => props.logOut()}>{strings.logout}</Button>\r\n            :\r\n            <Link to=\"/\" style={{ textDecoration: 'none' }}>\r\n              <Button variant=\"contained\" color=\"primary\" disableElevation>{strings.login}</Button>\r\n            </Link>\r\n          }\r\n        </Toolbar>\r\n      </AppBar>\r\n      <React.Fragment key=\"menudrawer\">\r\n        <Drawer open={drawerOpen} onClose={() => setDrawerOpen(false)}>\r\n          <List className={classes.list}>\r\n            <ListItem key=\"appname\">\r\n              <Typography className={classes.heading}><b>Quiz App</b></Typography>\r\n            </ListItem>\r\n            {props.isLoggedIn ?\r\n              <div>\r\n                <ListItem key=\"\" className={classes.nameHeader}>\r\n                  {props.user.firstname} {props.user.surname}\r\n                </ListItem>\r\n                <ListItem>\r\n                  <i>{props.user.email}</i>\r\n                </ListItem>\r\n                <ListItem>\r\n                  {props.user.role_id === \"2\" ?\r\n                    <i>{strings.admin} </i>\r\n                    : <i> {strings.student}</i>\r\n                  }\r\n                </ListItem>\r\n              </div>\r\n              : \"\"}\r\n            <Accordion>\r\n              <AccordionSummary>\r\n                <Typography className={classes.heading}>{strings.language}</Typography>\r\n              </AccordionSummary>\r\n              <AccordionDetails>\r\n                <MenuList className={classes.list}>\r\n                  {/* not translating the language names, feels like it would make it easier for user */}\r\n                  <MenuItem value=\"en\" selected={props.language === \"en\"} onClick={(e) => props.switchLanguage(\"en\")}> English </MenuItem>\r\n                  <MenuItem value=\"fi\" selected={props.language === \"fi\"} onClick={(e) => props.switchLanguage(\"fi\")}> Suomi </MenuItem>\r\n                </MenuList>\r\n              </AccordionDetails>\r\n            </Accordion>\r\n            {/* <Select className={classes.lanselect} defaultValue=\"en\" style={{ color: 'black' }} onChange={(e) => props.switchLanguage(e.target.value)}  >\r\n  \r\n              </Select> */}\r\n\r\n          </List>\r\n        </Drawer>\r\n      </React.Fragment>\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ButtonAppBar\r\n","import React, { useEffect, useState } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport { Button, Checkbox, TextField } from '@material-ui/core';\r\nimport strings from '../localization/strings';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Register = (props) => {\r\n    const [userData, setUserData] = useState({\r\n        firstname: '',\r\n        surname: '',\r\n        email: '',\r\n        password: '',\r\n        role_id: 2\r\n    })\r\n    const [isAdmin, setIsAdmin] = useState(true)\r\n\r\n    const changeData = (e, field) => {\r\n        setUserData({ ...userData, [field]: e.target.value })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isAdmin) {\r\n            setUserData({ ...userData, \"role_id\": 2 }) // roleid 2: teacher\r\n        } else {\r\n            setUserData({ ...userData, \"role_id\": 3 }) // roleid 3: student\r\n        }\r\n    }, [isAdmin])\r\n\r\n\r\n    const registering = () => {\r\n        console.log(userData)\r\n        props.submitRegistration(userData)\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            {props.isRegistered ? <Redirect to=\"/\" /> :\r\n                <List>\r\n                    <ListItem>\r\n                        <h2>{strings.register}</h2>\r\n                    </ListItem>\r\n                    <ListItem>\r\n                        <TextField onChange={(event) => changeData(event, \"firstname\")} size=\"small\" label={strings.firstname} variant=\"outlined\"></TextField>\r\n                    </ListItem>\r\n                    <ListItem>\r\n                        <TextField onChange={(event) => changeData(event, \"surname\")} size=\"small\" label={strings.surname} variant=\"outlined\"></TextField>\r\n                    </ListItem>\r\n                    <ListItem>\r\n                        <TextField onChange={(event) => changeData(event, \"email\")} size=\"small\" label={strings.email} variant=\"outlined\"></TextField>\r\n                    </ListItem>\r\n                    <ListItem>\r\n                        <TextField onChange={(event) => changeData(event, \"password\")} size=\"small\" label={strings.password} type=\"password\" variant=\"outlined\"></TextField>\r\n                    </ListItem>\r\n                    <ListItem><Checkbox checked={isAdmin} onChange={(e) => setIsAdmin(!isAdmin)} /> {strings.adminuser}?</ListItem>\r\n                    <ListItem>\r\n                        <Button variant=\"outlined\" onClick={registering}>{strings.register}</Button>\r\n                    </ListItem>\r\n                </List>\r\n            }\r\n        </div >\r\n    )\r\n};\r\n\r\nexport default Register;","import React, { useCallback, useMemo } from 'react'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport superagent from 'superagent'\r\nimport strings from '../localization/strings';\r\n\r\nfunction QuestionDropZone(props) {\r\n    // https://github.com/react-dropzone/react-dropzone/tree/master/examples/styling\r\n\r\n    const baseStyle = {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: '20px',\r\n        borderWidth: 2,\r\n        borderRadius: 2,\r\n        borderColor: '#eeeeee',\r\n        borderStyle: 'dashed',\r\n        backgroundColor: '#fafafa',\r\n        color: '#bdbdbd',\r\n        outline: 'none',\r\n        transition: 'border .24s ease-in-out'\r\n    };\r\n\r\n    const activeStyle = {\r\n        borderColor: '#2196f3'\r\n    };\r\n\r\n    const acceptStyle = {\r\n        borderColor: '#00e676'\r\n    };\r\n\r\n    const rejectStyle = {\r\n        borderColor: '#ff1744'\r\n    };\r\n\r\n\r\n    const onDrop = useCallback(async files => {\r\n        console.log(files);\r\n\r\n        const req = superagent.post('http://localhost:5000/upload');\r\n\r\n        files.forEach(file => {\r\n            req.attach('file', file);\r\n            console.log(file)\r\n        });\r\n        req.end((err, res) => {\r\n            console.log(\"THIS IS THE RES\", res)\r\n        });\r\n\r\n    }, []);\r\n\r\n    // const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\r\n    const {\r\n        acceptedFiles,\r\n        getRootProps,\r\n        getInputProps,\r\n        isDragActive,\r\n        isDragAccept,\r\n        isDragReject\r\n    } = useDropzone({ onDrop });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const style = useMemo(() => ({\r\n        ...baseStyle,\r\n        ...(isDragActive ? activeStyle : {}),\r\n        ...(isDragAccept ? acceptStyle : {}),\r\n        ...(isDragReject ? rejectStyle : {})\r\n    }));\r\n    const files = acceptedFiles.map(file => (\r\n        <li key={file.path}>\r\n          {file.path} - {file.size} bytes\r\n        </li>\r\n      ));\r\n      \r\n    //https://github.com/react-dropzone/react-dropzone/tree/master/examples/basic\r\n    return (\r\n        <section>\r\n            <div {...getRootProps({ style })}>\r\n                <input {...getInputProps()} />\r\n                {\r\n                    isDragActive ?\r\n                        <p>Drop the files here ...</p> :\r\n                        <p>Drag 'n' drop some files here, or click to select files</p>\r\n                }\r\n            </div>\r\n            <aside>\r\n                <ul>{strings.files}</ul>\r\n                <ul>{files}</ul>\r\n            </aside>\r\n        </section>\r\n    )\r\n}\r\nexport default QuestionDropZone;","import { Button, ListItem, TextField } from \"@material-ui/core\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport { useState } from \"react\";\r\nimport strings from '../localization/strings';\r\nimport QuestionDropZone from \"./QuestionDropZone\";\r\n\r\nfunction EditQuestion(props) {\r\n    const [showDropZone, setShowDropZone] = useState(false)\r\n    const openDropZone = () => {\r\n        setShowDropZone(!showDropZone)\r\n    }\r\n    const [questionText, setQuestionText] = useState(props.value.question)\r\n\r\n\r\n    return (<div>\r\n        <ListItem key={props.value.id} role={undefined} dense >\r\n            <TextField fullWidth onChange={(event) => setQuestionText(event.target.value)} onBlur={(event) => props.updateQuestion(event, props.quiz, props.parentIndex)} size=\"small\" label={(strings.question) + \" \" + (props.parentIndex + 1)} variant=\"outlined\" value={questionText} />\r\n            <Button className=\"deleteButton\" onClick={(event) => props.deleteQuestion(event, props.quiz, props.parentIndex)}><DeleteIcon /></Button>\r\n            <Button className=\"deleteButton\" onClick={(event) => openDropZone()}><ImageIcon /></Button>\r\n        </ListItem>\r\n        <ListItem>\r\n            {showDropZone ?\r\n                <QuestionDropZone />\r\n                : \"\"\r\n            }\r\n\r\n        </ListItem></div>\r\n    )\r\n}\r\nexport default EditQuestion;","import { Button, Checkbox, ListItem, ListItemIcon, TextField } from \"@material-ui/core\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { green } from '@material-ui/core/colors';\r\nimport strings from '../localization/strings';\r\nimport { useState } from \"react\";\r\n\r\nfunction EditAnswerOption(props) {\r\n    const GreenCheckbox = withStyles({\r\n        root: {\r\n          color: green[400],\r\n          '&$checked': {\r\n            color: green[600],\r\n          },\r\n        },\r\n        checked: {},\r\n      })((props) => <Checkbox color=\"default\" {...props} />);\r\n\r\n    const [answerText, setAnswerText] = useState(props.value.answer)\r\n\r\n    return (\r\n        <ListItem key={\"editansweropt\" + props.value.id} role={undefined} dense >\r\n            <ListItemIcon>\r\n                <GreenCheckbox\r\n                    onChange={(event) => props.updateAnsweroption(event, props.quiz, props.parentIndex, props.index, \"CHECKBOX\")}\r\n                    checked={props.value.correct}\r\n                    edge=\"start\"\r\n                    tabIndex={-1}\r\n                />\r\n            </ListItemIcon>\r\n            <ListItemIcon>\r\n                <Checkbox\r\n                    // TODO:\r\n                    onChange={(event) => props.updateUseranswer(event, props.quiz, props.parentIndex, props.index)}\r\n                    //  onChange={(event) => props.dispatch({ type: \"SELECT_TOGGLE\", data: { newText: event.target.value, quizIndex: props.quiz, questionIndex: props.parentIndex, answerIndex: props.index } })}\r\n                    checked={props.value.selected}\r\n                    edge=\"start\"\r\n                    tabIndex={-1}\r\n                />\r\n            </ListItemIcon>\r\n                <div>\r\n                    <TextField onChange={(e) => setAnswerText(e.target.value)} onBlur={(event) => props.updateAnsweroption(event, props.quiz, props.parentIndex, props.index, \"TEXT\")} size=\"small\" label={(strings.answer) + \" \" + (props.index + 1)} variant=\"outlined\" value={answerText} />\r\n                    <Button className=\"deleteButton\" onClick={(event) => props.deleteAnsweroption(event, props.quiz, props.parentIndex, props.index)}><DeleteIcon /></Button>\r\n                </div>\r\n        </ListItem>\r\n    )\r\n}\r\n//props.value.answer\r\nexport default EditAnswerOption;","import { Checkbox, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { green } from '@material-ui/core/colors';\r\n\r\nfunction AnswerOption(props) {\r\n    const GreenCheckbox = withStyles({\r\n        root: {\r\n            color: green[400],\r\n            '&$checked': {\r\n                color: green[600],\r\n            },\r\n        },\r\n        checked: {},\r\n    })((props) => <Checkbox color=\"default\" {...props} />);\r\n\r\n    return (\r\n        <ListItem key={props.value.id} role={undefined} dense >\r\n            <ListItemIcon>\r\n                {props.answersVisible ?\r\n                    <GreenCheckbox\r\n                        checked={props.value.correct}\r\n                        edge=\"start\"\r\n                        tabIndex={-1}\r\n                        disabled={true}\r\n                    /> : null}\r\n            </ListItemIcon>\r\n            <ListItemIcon>\r\n                <Checkbox\r\n                    onChange={(event) => props.updateUseranswer(event, props.quiz, props.parentIndex, props.index)}\r\n                    checked={props.value.selected}\r\n                    edge=\"start\"\r\n                    tabIndex={-1}\r\n                />\r\n            </ListItemIcon>\r\n            <div><ListItemText id={props.index} primary={props.value.answer} /></div>\r\n        </ListItem>\r\n    )\r\n}\r\nexport default AnswerOption;","import React, { useState } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport {Link} from \"react-router-dom\";\r\nimport strings from '../localization/strings';\r\n\r\nconst Login = (props) => {\r\n    const [userData, setUserData] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n    const changeData = (e, field) => {\r\n        setUserData({ ...userData, [field]: e.target.value })\r\n    }\r\n    const loggingIn = () => {\r\n        // setIsLoggedIn(true)       \r\n        props.submitLogin(userData)\r\n    }\r\n\r\n    // localstorage jwtToken tallenna userid rooli\r\n    return (\r\n        <div className=\"container\">\r\n            {/* {props.isLoggedIn ? <Redirect to= \"/\"/> :  */}\r\n            <List>\r\n                <ListItem>\r\n                    <h2>{strings.login}</h2>\r\n                </ListItem>\r\n                <ListItem>\r\n                    <TextField onChange={(event) => changeData(event, \"email\")} size=\"small\" label={strings.email} variant=\"outlined\"></TextField>\r\n                </ListItem>\r\n                <ListItem>\r\n                    <TextField onChange={(event) => changeData(event, \"password\")} size=\"small\" label={strings.password} type=\"password\" variant=\"outlined\"></TextField>\r\n                </ListItem>\r\n                <ListItem>\r\n                    <Button variant=\"outlined\" onClick={loggingIn}>{strings.login}</Button>\r\n                </ListItem>\r\n                {/* <ListItem>\r\n                    <a href=\"/auth/google\">Sign In with Google</a>\r\n                </ListItem> */}\r\n                <ListItem>\r\n                    <Link to=\"/register\"><i>{strings.reglink}</i></Link>\r\n                </ListItem>\r\n            </List>\r\n            {/* } */}\r\n        </div>\r\n    )\r\n};\r\nexport default Login","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\n\r\nfunction NewQuizDialog(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [quizname, setQuizname] = useState(\"\")\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    handleClose();\r\n    props.addNewQuiz(quizname);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button onClick={handleClickOpen}><AddCircleIcon /> Add new quiz </Button>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Create New Quiz</DialogTitle>\r\n        <DialogContent>\r\n\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Quiz name\"\r\n            fullWidth\r\n            onChange={(e) => setQuizname(e.target.value)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleSubmit} color=\"primary\">\r\n            Create new quiz\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default NewQuizDialog;\r\n","import { Button, ListItem, ListItemIcon, TextField } from \"@material-ui/core\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport strings from '../localization/strings';\r\nimport React, { useState } from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nfunction EditQuizTitleComponent(props) {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        handleClose();\r\n        props.deleteQuiz(event, props.quizindex);\r\n    }\r\n    const [titleText, setTitleText] = useState(props.quizname)\r\n\r\n    return (\r\n        <ListItem key={\"editquiztitlecomp\" + props.quizid} role={undefined} dense >\r\n            <div>\r\n                <TextField onChange={(e) => setTitleText(e.target.value)} onBlur={(event) => props.updateQuiz(event, props.quizindex)} label={strings.quizname} size=\"small\" variant=\"outlined\" value={titleText} />\r\n                <Button className=\"deleteButton\" onClick={handleClickOpen}><DeleteIcon /></Button>\r\n                <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n                    <DialogTitle id=\"form-dialog-title\">{strings.deleting} {props.quizname}</DialogTitle>\r\n                    <DialogContent>\r\n                        <p>\r\n                            {strings.areyousuredelete}\r\n                        </p>\r\n                        <p>\r\n                            <u>{strings.actioncannotbeundone}</u>\r\n                        </p>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={handleClose} color=\"primary\">\r\n                            {strings.cancel}\r\n                        </Button>\r\n                        <Button onClick={handleSubmit} color=\"secondary\">\r\n                            {strings.delete}\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nexport default EditQuizTitleComponent;","import {ListItem} from \"@material-ui/core\";\r\n\r\nfunction QuizTitleComponent(props) {\r\n    return (\r\n        <ListItem key=\"editquiztitlecomp\" >\r\n            <div >\r\n               <h2>{props.quizname}</h2>\r\n            </div>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nexport default QuizTitleComponent;","import { Paper } from \"@material-ui/core\";\r\n\r\n\r\nfunction CorrectAnswersCard(props) {\r\n    return (\r\n        <Paper>\r\n            \r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default CorrectAnswersCard;","import './App.css';\nimport React, { useEffect, useState, useReducer } from 'react';\nimport ButtonAppBar from './components/ButtonAppBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport AddIcon from '@material-ui/icons/Add';\nimport { Container, Paper, Button } from '@material-ui/core';\nimport axios from 'axios';\nimport Register from './components/Register'\nimport EditQuestion from './components/EditQuestion';\nimport EditAnswerOption from './components/EditAnswerOption';\nimport AnswerOption from './components/AnswerOption';\nimport Login from './components/Login';\nimport {\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport strings from './localization/strings';\nimport { useSnackbar, withSnackbar } from 'notistack';\nimport socketIOClient from 'socket.io-client'\nimport NewQuizDialog from './components/NewQuizDialog';\nimport EditQuizTitleComponent from './components/EditQuizTitleComponent';\nimport QuizTitleComponent from './components/QuizTitleComponent';\nimport CorrectAnswersCard from './components/CorrectAnswersCard';\nimport { map, toLower } from 'lodash';\nvar sIOEndpoint = ''\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: '100%',\n    backgroundColor: theme.palette.background.paper,\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\n\nvar path = null;\nswitch (process.env.NODE_ENV) {\n  case 'production':\n    path = 'https://vappus-quiz-app.herokuapp.com/'\n    sIOEndpoint = 'https://vappus-quiz-app.herokuapp.com'\n    break;\n  case 'development':\n    path = 'http://localhost:5000/'\n    sIOEndpoint = 'http://localhost:5000'\n    break;\n  case 'test':\n    path = 'http://localhost:5000/'\n    break;\n  default:\n    // eslint-disable-next-line no-throw-literal\n    throw \"Environment not set\"\n}\n\n// ----------------REDUCER----------------------------------------------------\nfunction reducer(state, action) {\n  let deepCopy = JSON.parse(JSON.stringify(state))\n  switch (action.type) {\n    case \"INIT_DATA\":\n      return action.data; /// <--- this should be state\n    case \"ANSWER_CHANGED\":\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].answerOptions[action.data.answerIndex].answer = action.data.newText;\n      return deepCopy;\n    case \"QUESTION_CHANGED\":\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].question = action.data.newText;\n      return deepCopy;\n    case \"QUIZ_CHANGED\":\n      deepCopy[action.data.quizIndex].quizname = action.data.newText;\n      return deepCopy;\n    case \"ADD_ANSWER\":\n      let newAnswer = { answer: \"\", correct: false, selected: false, id: action.data.id }\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].answerOptions.push(newAnswer)\n      return deepCopy;\n    case \"ADD_QUESTION\":\n      let newQuestion = { question: \"\", answerOptions: [], id: action.data.id }\n      deepCopy[action.data.quizIndex].quizQuestions.push(newQuestion)\n      return deepCopy;\n    case \"ADD_QUIZ\":\n      let newQuiz = { id: action.data.quizId, quizname: action.data.quizname, quizQuestions: [] }\n      deepCopy.push(newQuiz)\n      return deepCopy;\n    case \"DELETE_ANSWER\":\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].answerOptions.splice(action.data.answerIndex, 1)\n      return deepCopy;\n    case \"DELETE_QUESTION\":\n      deepCopy[action.data.quizIndex].quizQuestions.splice(action.data.questionIndex, 1)\n      return deepCopy;\n    case \"DELETE_QUIZ\":\n      deepCopy.splice(action.data.quizIndex, 1)\n      return deepCopy;\n    case \"SELECT_TOGGLE\":\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].answerOptions[action.data.answerIndex].selected =\n        !deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].answerOptions[action.data.answerIndex].selected;\n      return deepCopy;\n    case \"CORRECT_TOGGLE\":\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].answerOptions[action.data.answerIndex].correct =\n        !deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].answerOptions[action.data.answerIndex].correct;\n      return deepCopy;\n    case \"USERANSWER_CHANGED\":\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].answerOptions[action.data.answerIndex].selected = action.data.selected;\n      return deepCopy;\n    case \"UPDATE_POINTS\":\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].points = action.data.points;\n      deepCopy[action.data.quizIndex].quizQuestions[action.data.questionIndex].correctOptions = action.data.correctOptions;\n      console.log(deepCopy)\n      return deepCopy;\n    default:\n      throw new Error();\n  }\n}\n\n// ----------------APP-------------------------------------------------------\n\nfunction App() {\n\n  const classes = useStyles();\n  const [dataAlustettu, setDataAlustettu] = useState(false);\n  const [quiz, setQuiz] = useState(null);\n  const [answersVisible, setAnswersVisible] = useState(false);\n  const [state, dispatch] = useReducer(reducer, []);\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [admin, setAdmin] = useState(false)\n  const [lan, setLan] = useState('en')\n  const { enqueueSnackbar } = useSnackbar();\n  const [token, setToken] = useState(localStorage.getItem('jwtToken'))\n  const [user, setUser] = useState({\n    firstname: \"\",\n    surname: \"\",\n    email: \"\",\n    id: null,\n    role_id: null\n  })\n\n  /// LOGIN\n  const logOut = () => {\n    setUser({\n      firstname: \"\",\n      surname: \"\",\n      email: \"\",\n      id: null,\n      role_id: null\n    })\n    setLoggedIn(false)\n    setAdmin(false)\n    setToken(null)\n    setQuiz(null)\n    setAnswersVisible(false)\n    localStorage.removeItem('jwtToken')\n  }\n\n\n  useEffect(() => {\n    console.log(\"TOKEN \", token)\n    if (token === null) {\n      setLoggedIn(false)\n    }\n    else {\n      setLoggedIn(true)\n      // if (loggedIn) {\n      getUser() // get user profile to populate user object\n      // }\n    }\n  }, [loggedIn, token])\n\n  const getUser = async () => {\n    try {\n      await axios.get(path + \"user?secret_token=\" + token).then(response => {\n        setUser(\n          {\n            firstname: response.data.firstname,\n            surname: response.data.surname,\n            email: response.data.username,\n            id: response.data.id,\n            role_id: response.data.role_id\n          }\n        )\n        if (response.data.role_id == 2) {\n          setAdmin(true)\n        }\n        setLoggedIn(true)\n      })\n    } catch (e) {\n      console.log(\"error getting user\", e)\n    }\n  }\n\n  const submitRegistration = async (userData) => {\n    var emailLower = toLower(userData.email)\n    console.log(userData)\n    let body = {\n      email: emailLower,\n      password: userData.password,\n      firstname: userData.firstname,\n      surname: userData.surname,\n      role_id: userData.role_id\n    }\n    console.log(body)\n    try {\n      await axios.post(path + \"register/\", body).then(response => {\n        var snackMsg = strings.registersuccess\n        enqueueSnackbar(snackMsg, { variant: 'success' })\n        if (userData.role_id == 2) {\n          setAdmin(true)\n        }\n        setUser(userData)\n        setLoggedIn(true)\n      })\n\n    } catch (e) {\n      var snackMsg = strings.registerfail\n      enqueueSnackbar(snackMsg, { variant: 'error' })\n      console.log(\"registration error\", e)\n    }\n  }\n\n  const submitLogin = async (userData) => {\n    var emailLower = toLower(userData.email)\n    let body = {\n      email: emailLower,\n      password: userData.password,\n    }\n    console.log(body)\n    try {\n      await axios.post(path + \"login/\", body).then(response => {\n        console.log(response, \"LOGIN RESPONSE\")\n        localStorage.setItem('jwtToken', response.data.token)\n        setUser({\n          firstname: response.data.userObj.firstname,\n          surname: response.data.userObj.surname,\n          email: response.data.userObj.username,\n          id: response.data.userObj.id,\n          role_id: response.data.userObj.role_id\n        })\n        if (response.data.userObj.role_id == 2) {\n          setAdmin(true)\n        }\n        setLoggedIn(true)\n        setToken(response.data.token)\n        var snackMsg = strings.loginsuccess\n        enqueueSnackbar(snackMsg, { variant: 'success' })\n      })\n    } catch (e) {\n      var snackMsg = strings.loginfail\n      enqueueSnackbar(snackMsg, { variant: 'error' })\n      console.log(\"login error\", e)\n    }\n  }\n\n  useEffect(() => {\n    const socket = socketIOClient(sIOEndpoint)\n    socket.on('connected', function (data) {\n      socket.emit('ready for data', {})\n      enqueueSnackbar('Socket connected!')\n    });\n    socket.on('update', function (data) {\n      var snackMsg = \"\"\n      switch (data.message.channel) {\n        case \"addquiz\":\n          snackMsg = \"New Quiz: \" + data.message.payload\n          break;\n        case \"adduser\":\n          snackMsg = data.message.payload + \" just registered for the first time!\"\n          break;\n        case \"alterquiz\":\n          let thisPayload = JSON.parse(data.message.payload)\n          snackMsg = \"Quiz: \" + thisPayload.old + \" was renamed to \" + thisPayload.new\n          break;\n        default:\n          break;\n      }\n      enqueueSnackbar(snackMsg)\n    })\n  }, [])\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        let result = await axios.get(path + \"quiz\")\n        if (result.data.length > 0) {\n          for (var i = 0; i < result.data.length; i++) {\n            result.data[i].quizQuestions = []\n            let questions = await axios.get(path + \"quiz/\" + result.data[i].id + \"/question/\")\n            result.data[i].quizQuestions = questions.data;\n            if (result.data[i].quizQuestions.length > 0) {\n              for (var j = 0; j < result.data[i].quizQuestions.length; j++) {\n                result.data[i].quizQuestions[j].answerOptions = [];\n                let answers = await axios.get(path + \"useranswer/\" + user.id + \"/question/\" + result.data[i].quizQuestions[j].id + \"/answer\")\n                result.data[i].quizQuestions[j].answerOptions = answers.data;\n                result.data[i].quizQuestions[j].points = 0;\n                result.data[i].quizQuestions[j].correctOptions = 0;\n              }\n            }\n          }\n          dispatch({ type: \"INIT_DATA\", data: result.data })\n          setDataAlustettu(true)\n        } else {\n          // eslint-disable-next-line no-throw-literal\n          throw (\"No data :(\")\n        }\n      }\n      catch (exception) {\n        console.log(\"fetchData exception\", exception)\n      }\n    }\n\n    fetchData();\n\n  }, [user])\n\n  const getWindowLanguage = () => {\n    var language\n    console.log(window.navigator.languages)\n    if (window.navigator.languages) {\n      language = window.navigator.languages[0]\n    } else {\n      language = window.navigator.userLanguage || window.navigator.language\n    }\n    return language;\n  }\n\n  const switchLanguage = (newLan) => {\n    setLan(newLan)\n    strings.setLanguage(newLan)\n  }\n\n  //// POST ---------------------------------------------------------------------------------------------------\n  const addQuestion = async (event, quizIndex) => {\n    let quizId = state[quizIndex].id;\n    let body = {}\n    try {\n      let result = await axios.post(path + \"quiz/\" + quizId, body).then(response => {\n        console.log(\"new id\" + response.data.id);\n        dispatch({ type: \"ADD_QUESTION\", data: { quizIndex: quiz, id: response.data.id } })\n      })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const addAnsweroption = async (event, quizIndex, questionIndex) => {\n    let quizId = state[quizIndex].id;\n    let questionId = state[quizIndex].quizQuestions[questionIndex].id;\n    let body = { correct: false }\n    try {\n      let result = await axios.post(path + \"quiz/\" + quizId + \"/question/\" + questionId, body).then(response => {\n        console.log(\"new id\" + response.data.id);\n        dispatch({ type: \"ADD_ANSWER\", data: { quizIndex: quiz, questionIndex: questionIndex, id: response.data.id } })\n      })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const addQuiz = async (quizname) => {\n    let body = { quizname: quizname }\n    try {\n      let result = await axios.post(path + \"quiz/\", body).then(response => {\n        console.log(\"new id\" + response.data.id);\n        dispatch({ type: \"ADD_QUIZ\", data: { quizId: response.data.id, quizname: quizname } })\n      })\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  //// PUT -------------------------------------------------------------------------------------------------------\n  const updateQuiz = async (event, quizIndex,) => {\n    console.log(event.target.value)\n    let quizId = state[quizIndex].id;\n    let body = {\n      quizname: event.target.value\n    }\n    try {\n      let result = await axios.put(path + \"quiz/\" + quizId, body)\n      dispatch({ type: \"QUIZ_CHANGED\", data: { newText: body.quizname, quizIndex: quizIndex } })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const updateQuestion = async (event, quizIndex, questionIndex) => {\n    let quizId = state[quizIndex].id;\n    let questionId = state[quizIndex].quizQuestions[questionIndex].id;\n    let body = {\n      question: event.target.value\n    }\n    try {\n      let result = await axios.put(path + \"quiz/\" + quizId + \"/question/\" + questionId, body)\n      dispatch({ type: \"QUESTION_CHANGED\", data: { newText: body.question, quizIndex: quizIndex, questionIndex: questionIndex } })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  const updateAnsweroption = async (event, quizIndex, questionIndex, answerIndex, editMode) => {\n    let quizId = state[quizIndex].id;\n    let questionId = state[quizIndex].quizQuestions[questionIndex].id;\n    let answerId = state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].id;\n    console.log(state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex])\n    let body = {}\n    switch (editMode) {\n      case \"TEXT\":\n        body.answer = event.target.value;\n        body.correct = state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].correct;\n        break;\n      case \"CHECKBOX\":\n        body.answer = state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].answer;\n        body.correct = !state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].correct;\n        break;\n      default:\n        body.answer = state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].answer;\n        body.correct = state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].correct;\n        break;\n    }\n    try {\n      let result = await axios.put(path + \"quiz/\" + quizId + \"/question/\" + questionId + \"/answer/\" + answerId, body)\n      switch (editMode) {\n        case \"TEXT\":\n          dispatch({ type: \"ANSWER_CHANGED\", data: { newText: body.answer, quizIndex: quizIndex, questionIndex: questionIndex, answerIndex: answerIndex } })\n          break;\n        case \"CHECKBOX\":\n          dispatch({ type: \"CORRECT_TOGGLE\", data: { newText: body.answer, quizIndex: quizIndex, questionIndex: questionIndex, answerIndex: answerIndex } })\n          break;\n        default:\n          break;\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const updateUseranswer = async (event, quizIndex, questionIndex, answerIndex) => {\n    let quizId = state[quizIndex].id;\n    let questionId = state[quizIndex].quizQuestions[questionIndex].id;\n    let answerId = state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].id;\n    let body = {};\n\n    if (state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].selected === null) {\n      body.selected = true\n      let result = await axios.post(path + \"useranswers/\" + user.id + \"/answer/\" + answerId, body)\n    } else {\n      // invert\n      body.selected = !state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].selected;\n      let result = await axios.put(path + \"useranswers/\" + user.id + \"/answer/\" + answerId, body)\n    }\n    dispatch({ type: \"USERANSWER_CHANGED\", data: { selected: body.selected, quizIndex: quizIndex, questionIndex: questionIndex, answerIndex: answerIndex } })\n    console.log('update user answer', body.selected)\n\n  }\n\n  //// DELETE ------------------------------------------------------------------------------------------------\n\n  const deleteQuestion = async (event, quizIndex, questionIndex) => {\n    let quizId = state[quizIndex].id;\n    let questionId = state[quizIndex].quizQuestions[questionIndex].id;\n    try {\n      let result = await axios.delete(path + \"quiz/\" + quizId + \"/question/\" + questionId)\n      dispatch({ type: \"DELETE_QUESTION\", data: { newText: '', quizIndex: quiz, questionIndex: questionIndex } })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const deleteQuiz = async (event, quizIndex) => {\n    let quizId = state[quizIndex].id;\n    try {\n      setQuiz(null)\n      let result = await axios.delete(path + \"quiz/\" + quizId)\n      dispatch({ type: \"DELETE_QUIZ\", data: { newText: '', quizIndex: quizIndex } })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const deleteAnsweroption = async (event, quizIndex, questionIndex, answerIndex) => {\n    let quizId = state[quizIndex].id;\n    let questionId = state[quizIndex].quizQuestions[questionIndex].id;\n    let answerId = state[quizIndex].quizQuestions[questionIndex].answerOptions[answerIndex].id;\n    try {\n      let result = await axios.delete(path + \"quiz/\" + quizId + \"/question/\" + questionId + \"/answer/\" + answerId)\n      dispatch({ type: \"DELETE_ANSWER\", data: { newText: '', quizIndex: quiz, questionIndex: questionIndex, answerIndex: answerIndex } })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  //// MISC ---------------------------------------------------------------------------------------------------\n  const selectQuiz = (quizNo) => {\n    setQuiz(quizNo);\n  }\n\n  const toggleAnswers = () => {\n    setAnswersVisible(!answersVisible);\n    console.log(state)\n    for (var i = 0; i < state.length; i++){\n      tallyAnswersForQuestions(i)\n    }\n  }\n\n\n  const tallyAnswersForQuestions = (quizIndex) => {\n    var talliedQuiz = state[quizIndex]\n    var questionPoints, correctOptions;\n\n    for (var i = 0; i < talliedQuiz.quizQuestions.length; i++) {\n      for (var j = 0; j < talliedQuiz.quizQuestions[i].answerOptions.length; j++) {\n        if (j === 0) {\n          questionPoints = 0;\n          correctOptions = 0\n        } // reset\n        if (talliedQuiz.quizQuestions[i].answerOptions[j].correct) {\n          correctOptions++;\n          if (talliedQuiz.quizQuestions[i].answerOptions[j].selected) {\n            questionPoints++;\n          } // else {} option for minus points for wrong questions\n        }\n      }\n      dispatch({ type: \"UPDATE_POINTS\", data: { points: questionPoints, correctOptions: correctOptions, quizIndex: quizIndex, questionIndex: i } })\n    }\n  }\n\n  //// JSX ------------------------------------------------------------------------------------------------------\n  return (\n    <div>\n      <Container className=\"quizContainer\">\n        <ButtonAppBar switchLanguage={switchLanguage} user={user} isLoggedIn={loggedIn} logOut={logOut} language={lan} />\n\n        <Switch>\n          <Route exact path=\"/register\" component={() => <Register submitRegistration={submitRegistration} isRegistered={loggedIn} />} />\n          <Route exact path=\"/\">\n            {loggedIn ?\n              <div>\n                <div className={classes.root}>\n                  {dataAlustettu && state.length > 0 ? state.map((val, index) => {\n                    return <Button variant=\"outlined\" onClick={() => setQuiz(index)}>{val.quizname}</Button>\n                  }) : null}\n                  {admin ? <div><NewQuizDialog addNewQuiz={addQuiz} /></div> : \"\"}\n                </div>\n                {quiz != null ?\n                  <div className=\"questionCard\">\n                    <Paper elevation={1} padding=\"10%\">\n                      {admin\n                        ? <EditQuizTitleComponent quizname={state[quiz].quizname} quizid={state[quiz].id} quizindex={quiz} updateQuiz={updateQuiz} deleteQuiz={deleteQuiz} />\n                        : <QuizTitleComponent quizname={state[quiz].quizname} />}\n                    </Paper>\n                  </div>\n                  : \"\"}\n                {quiz != null ? state[quiz].quizQuestions.map((value, parentIndex) => {\n                  return (\n                    <div className=\"questionCard\">\n                      <Paper elevation={1}>\n                        <List className={classes.root}>\n                          <h3>{value.topicArea}</h3>\n                          {admin ?\n                            <EditQuestion value={value} quiz={quiz} parentIndex={parentIndex} updateQuestion={updateQuestion} deleteQuestion={deleteQuestion} />\n                            : <div className=\"question\">{value.question}</div>\n                          }\n                          {value.answerOptions.map((value, index) => {\n                            return (\n                              <div>\n                                {admin ?\n                                  <EditAnswerOption value={value} quiz={quiz} parentIndex={parentIndex} index={index}\n                                    updateAnsweroption={updateAnsweroption}\n                                    updateUseranswer={updateUseranswer}\n                                    deleteAnsweroption={deleteAnsweroption}\n                                    dispatch={dispatch}\n                                  />\n                                  : <AnswerOption updateUseranswer={updateUseranswer} value={value} quiz={quiz} parentIndex={parentIndex} index={index} answersVisible={answersVisible} />}\n                              </div>\n                            )\n                          })}\n                          {answersVisible ? <div>{state[quiz].quizQuestions[parentIndex].points}/{state[quiz].quizQuestions[parentIndex].correctOptions} {strings.correct}</div> : null}\n                          {admin ? <div className=\"addButton\"><Button onClick={(event) => addAnsweroption(event, quiz, parentIndex)}><AddCircleIcon /></Button></div> : \"\"}\n                        </List>\n                      </Paper>\n                    </div>\n                  );\n                })\n                  : null}\n                <div className=\"bottomButtons\">\n                  {admin && quiz != null ? <Button variant=\"contained\" onClick={(event) => addQuestion(event, quiz)}><AddIcon />   {strings.addnewquestion}</Button> : null}\n                  {!admin && quiz != null ? <Button variant=\"contained\" onClick={() => toggleAnswers()}>{answersVisible ? strings.hidecorrect : strings.showcorrect}</Button> : null}\n                </div>\n              </div> :\n              <Login submitLogin={submitLogin} isLoggedIn={loggedIn} />}\n          </Route>\n        </Switch>\n      </Container >\n    </div >\n  );\n}\nexport default withSnackbar(App);\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { SnackbarProvider } from 'notistack';\n\nReactDOM.render(\n    <BrowserRouter>\n      <SnackbarProvider maxSnack={3} variant=\"info\">\n        <App />\n      </SnackbarProvider>\n    </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}